/*! Heat.js v1.4.0 | (c) Bunoon 2024 | MIT License */
(function(){function S(){for(var a=f.domElementTypes,b=a.length,c=0;c<b;c++){var e=B.getElementsByTagName(a[c]);e=[].slice.call(e);for(var g=e.length,h=0;h<g;h++){var l=e[h],m=!0;if(u(l)&&l.hasAttribute("data-heat-options")){var d=l.getAttribute("data-heat-options");if(C(d))if(d=aa(d),d.parsed&&J(d.result)){d=d.result;d=J(d)?d:{};d.showDayNames=v(d.showDayNames,!0);d.showGuide=v(d.showGuide,!0);d.showTitle=v(d.showTitle,!0);d.showYearSelector=v(d.showYearSelector,!0);d.showMonthDayGaps=v(d.showMonthDayGaps,
!0);d.showRefreshButton=v(d.showRefreshButton,!1);d.showMonthNames=v(d.showMonthNames,!0);d.showExportButton=v(d.showExportButton,!1);d.mapTogglesEnabled=v(d.mapTogglesEnabled,!0);d.placeMonthNamesOnTheBottom=v(d.placeMonthNamesOnTheBottom,!1);d.exportOnlyYearBeingViewed=v(d.exportOnlyYearBeingViewed,!0);var z=d;var q=d.year;var A=(new Date).getFullYear();q=O(q)?q:A;z.year=q;d.showDayNumbers=v(d.showDayNumbers,!1);K(d.monthsToShow)&&(d.monthsToShow=[1,2,3,4,5,6,7,8,9,10,11,12]);K(d.daysToShow)&&(d.daysToShow=
[1,2,3,4,5,6,7]);z=d;q=d.mapRangeColors;A=[{minimum:10,cssClassName:"day-color-1",tooltipText:"Day Color 1"},{minimum:15,cssClassName:"day-color-2",tooltipText:"Day Color 2"},{minimum:20,cssClassName:"day-color-3",tooltipText:"Day Color 3"},{minimum:25,cssClassName:"day-color-4",tooltipText:"Day Color 4"}];q=P(q)?q:A;z.mapRangeColors=q;z=d.mapRangeColors.length;for(q=0;q<z;q++)C(d.mapRangeColors[q].id)||(d.mapRangeColors[q].id=T());d.titleText=r(d.titleText,"Heat.js");d.dayToolTipText=r(d.dayToolTipText,
"{d}{o} {mmmm} {yyyy}");d.onDayClick=y(d.onDayClick,null);d.onBackYear=y(d.onBackYear,null);d.onNextYear=y(d.onNextYear,null);d.onRefresh=y(d.onRefresh,null);d.onBeforeRender=y(d.onBeforeRender,null);d.onRenderComplete=y(d.onRenderComplete,null);d.onDestroy=y(d.onDestroy,null);d.onExport=y(d.onExport,null);d.onSetYear=y(d.onSetYear,null);d.onTypeSwitch=y(d.onTypeSwitch,null);d.onDayToolTipRender=y(d.onDayToolTipRender,null);d.element=l;d.currentView={};d.currentView.colorsVisible={};d.currentView.year=
d.year;d.currentView.type="None";t(d.onBeforeRender,l);C(l.id)||(l.id=T());l.removeAttribute("data-heat-options");U(l.id,d);w(d);t(d.onRenderComplete,l)}else f.safeMode||(console.error("The attribute 'data-heat-options' is not a valid object."),m=!1);else f.safeMode||(console.error("The attribute 'data-heat-options' has not been set correctly."),m=!1)}if(!m)break}}}function w(a){a.element.className="heat-js";a.element.innerHTML=n.empty;ba(a);ca(a)}function ba(a){if(a.showTitle||a.showYearSelector||
a.showRefreshButton||a.showExportButton){var b=p(a.element,"div","title-bar");a.showTitle&&x(b,"div","title",a.titleText);a.showExportButton&&(x(b,"button","export",f.exportButtonText).onclick=function(){var c=k[a.element.id].type[a.currentView.type];var e=[];var g=[];e.push([E(f.dateText),E(f.countText)].join());for(var h in c)c.hasOwnProperty(h)&&g.push(h);g.sort();if(a.exportOnlyYearBeingViewed)for(g=0;12>g;g++){h=(new Date(a.currentView.year,g+1,0)).getDate();for(var l=0;l<h;l++){var m=L(new Date(a.currentView.year,
g,l+1));c.hasOwnProperty(m)&&e.push([E(m),E(c[m])].join())}}else for(h=g.length,l=0;l<h;l++)m=g[l],c.hasOwnProperty(m)&&e.push([E(m),E(c[m])].join());e=e.join(n.newLine);e!==n.empty&&(c=p(B.body,"a"),c.style.display="none",c.setAttribute("target","_blank"),c.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(e)),e=c.setAttribute,h=new Date,g=D(h.getDate())+"-"+D(h.getMonth()+1)+"-"+h.getFullYear(),h=D(h.getHours())+"-"+D(h.getMinutes()),l=n.empty,"None"!==a.currentView.type&&(l=
a.currentView.type.toLowerCase().replace(n.space,"_")+"_"),e.call(c,"download",l+g+"_"+h+".csv"),c.click(),B.body.removeChild(c));t(a.onExport,a.element)});a.showRefreshButton&&(x(b,"button","refresh",f.refreshButtonText).onclick=function(){w(a);t(a.onRefresh,a.element)});a.showYearSelector&&(x(b,"button","back",f.backButtonText).onclick=function(){a.currentView.year--;w(a);t(a.onBackYear,a.currentView.year)},a.currentView.yearText=x(b,"div","year-text",a.currentView.year),x(b,"button","next",f.nextButtonText).onclick=
function(){a.currentView.year++;w(a);t(a.onNextYear,a.currentView.year)})}}function ca(a){var b=p(a.element,"div","map-contents"),c=p(b,"div","map");da(a);b=a.currentView.year;var e=!1;if(a.showDayNames){var g=p(c,"div","days");if(!a.showMonthNames||a.placeMonthNamesOnTheBottom)g.style.paddingTop="0px",g.style.marginTop=a.placeMonthNamesOnTheBottom?"-2px":"-5px";for(var h=0;7>h;h++)-1<a.daysToShow.indexOf(h+1)&&x(g,"div","day-name",f.dayNames[h])}c=p(c,"div","months");g=a.mapRangeColors.sort(function(ea,
fa){return fa.range-ea.range});for(h=0;12>h;h++)if(-1<a.monthsToShow.indexOf(h+1)){var l=p(c,"div","month");a.showMonthNames&&!a.placeMonthNamesOnTheBottom&&x(l,"div","month-name",f.monthNames[h]);var m=p(l,"div","day-columns"),d=(new Date(b,h+1,0)).getDate(),z=p(m,"div","day-column"),q=!1,A=V(new Date(b,h,1)),Q=1;d+=A;for(var F=0;F<d;F++){F>=A?q=!0:p(z,"div","day-disabled");if(q){var G=null;-1<a.daysToShow.indexOf(Q)&&(G=ha(a,z,F-A,h,b,g));if(0===(F+1)%7&&(z=p(m,"div","day-column"),Q=0,!u(H)&&u(G))){var ia=
W(G,"margin-left",!0),ja=W(G,"margin-right",!0);H=G.offsetWidth+ia+ja}}Q++}a.showMonthNames&&a.placeMonthNamesOnTheBottom&&x(l,"div","month-name-bottom",f.monthNames[h]);e&&u(H)&&(0<A&&!a.showMonthDayGaps?l.style.marginLeft=-H+"px":0===A&&a.showMonthDayGaps&&(l.style.marginLeft=H+"px"));e=!0}}function ha(a,b,c,e,g,h){c+=1;b=p(b,"div","day");var l=new Date(g,e,c),m=k[a.element.id].type[a.currentView.type][L(l)];m=O(m)?m:0;I(a.onDayToolTipRender)?b.title=t(a.onDayToolTipRender,l,m):b.title=ka(a.dayToolTipText,
l);a.showDayNumbers&&0<m&&(b.innerHTML=m.toString());I(a.onDayClick)?b.onclick=function(){t(a.onDayClick,l,m)}:b.className+=n.space+"no-click";e=a.mapRangeColors.length;g=null;for(c=0;c<e;c++){var d=h[c];if(m>=d.minimum)g=d;else break}u(g)&&X(a,g.id)&&(b.className+=n.space+g.cssClassName);return b}function da(a){var b=p(a.element,"div","guide"),c=p(b,"div","map-types"),e=0;for(h in k[a.element.id].type.None)if(k[a.element.id].type.None.hasOwnProperty(h)){e++;break}if(1<k[a.element.id].types)for(var g in k[a.element.id].type)if("None"!==
g||0<e)0===e&&"None"===a.currentView.type&&(a.currentView.type=g),la(a,c,g);if(a.showGuide){b=p(b,"div","map-toggles");c=x(b,"div","less-text",f.lessText);a.mapTogglesEnabled?c.onclick=function(){Y(a,!1)}:c.className+=n.space+"no-click";c=p(b,"div","days");e=a.mapRangeColors.sort(function(l,m){return m.range-l.range});var h=e.length;for(g=0;g<h;g++)ma(a,c,e[g]);b=x(b,"div","more-text",f.moreText);a.mapTogglesEnabled?b.onclick=function(){Y(a,!0)}:b.className+=n.space+"no-click"}}function la(a,b,c){b=
x(b,"button","type",c);a.currentView.type===c&&(b.className+=n.space+"active");b.onclick=function(){a.currentView.type!==c&&(a.currentView.type=c,t(a.onTypeSwitch,c),w(a))}}function ma(a,b,c){var e=p(b,"div");e.title=c.tooltipText;X(a,c.id)?e.className="day "+c.cssClassName:e.className="day";a.mapTogglesEnabled?e.onclick=function(){a.currentView.colorsVisible.hasOwnProperty(c.id)||(a.currentView.colorsVisible[c.id]=!0);e.className=a.currentView.colorsVisible[c.id]?"day":"day "+c.cssClassName;a.currentView.colorsVisible[c.id]=
!a.currentView.colorsVisible[c.id];w(a)}:e.className+=n.space+"no-click"}function X(a,b){return!a.currentView.colorsVisible.hasOwnProperty(b)||a.currentView.colorsVisible[b]}function U(a,b){k[a]={options:b,type:{},types:1};k[a].type.None={}}function Y(a,b){for(var c=a.mapRangeColors.length,e=0;e<c;e++)a.currentView.colorsVisible[a.mapRangeColors[e].id]=b;w(a)}function E(a){a=a.toString().replace(/(\r\n|\n|\r)/gm,n.empty).replace(/(\s\s)/gm,n.space);a=a.replace(/"/g,'""');return'"'+a+'"'}function V(a){return 0>
a.getDay()-1?6:a.getDay()-1}function ka(a,b){var c=a,e=V(b);c=c.replace("{dddd}",f.dayNames[e]);c=c.replace("{dd}",D(b.getDate()));c=c.replace("{d}",b.getDate());e=c.replace;var g=b.getDate(),h=f.thText;if(31===g||21===g||1===g)h=f.stText;else if(22===g||2===g)h=f.ndText;else if(23===g||3===g)h=f.rdText;c=e.call(c,"{o}",h);c=c.replace("{mmmm}",f.monthNames[b.getMonth()]);c=c.replace("{mm}",D(b.getMonth()+1));c=c.replace("{m}",b.getMonth()+1);c=c.replace("{yyyy}",b.getFullYear());c=c.replace("{yyy}",
b.getFullYear().toString().substring(1));c=c.replace("{yy}",b.getFullYear().toString().substring(2));return c=c.replace("{y}",parseInt(b.getFullYear().toString().substring(2)).toString())}function u(a){return null!==a&&void 0!==a&&a!==n.empty}function J(a){return u(a)&&"object"===typeof a}function M(a){return u(a)&&"boolean"===typeof a}function C(a){return u(a)&&"string"===typeof a}function I(a){return u(a)&&"function"===typeof a}function O(a){return u(a)&&"number"===typeof a}function P(a){return J(a)&&
a instanceof Array}function p(a,b,c){b=b.toLowerCase();var e="text"===b;R.hasOwnProperty(b)||(R[b]=e?B.createTextNode(n.empty):B.createElement(b));b=R[b].cloneNode(!1);u(c)&&(b.className=c);a.appendChild(b);return b}function x(a,b,c,e){a=p(a,b,c);a.innerHTML=e;return a}function W(a,b,c){var e=null;c=u(c)?c:!1;N.getComputedStyle?e=B.defaultView.getComputedStyle(a,null).getPropertyValue(b):a.currentStyle&&(e=a.currentStyle[b]);c&&(e=parseFloat(e,10));return e}function t(a){var b=null;I(a)&&(b=a.apply(null,
[].slice.call(arguments,1)));return b}function r(a,b){return C(a)?a:b}function v(a,b){return M(a)?a:b}function y(a,b){return I(a)?a:b}function aa(a){var b=!0,c=null;try{C(a)&&(c=JSON.parse(a))}catch(e){try{c=eval("("+a+")"),I(c)&&(c=c())}catch(g){f.safeMode||(console.error("Errors in object: "+e.message+", "+g.message),b=!1),c=null}}return{parsed:b,result:c}}function T(){for(var a=[],b=0;32>b;b++){8!==b&&12!==b&&16!==b&&20!==b||a.push("-");var c=Math.floor(16*Math.random()).toString(16);a.push(c)}return a.join(n.empty)}
function D(a){a=a.toString();return 1===a.length?"0"+a:a}function L(a){return a.getFullYear()+"-"+D(a.getMonth()+1)+"-"+D(a.getDate())}function Z(){f.safeMode=v(f.safeMode,!0);var a=f,b=f.domElementTypes,c=["*"];C(b)?(b=b.split(n.space),0===b.length&&(b=c)):b=P(b)?b:c;a.domElementTypes=b;f.stText=r(f.stText,"st");f.ndText=r(f.ndText,"nd");f.rdText=r(f.rdText,"rd");f.thText=r(f.thText,"th");f.backButtonText=r(f.backButtonText,"Back");f.nextButtonText=r(f.nextButtonText,"Next");f.refreshButtonText=
r(f.refreshButtonText,"Refresh");f.exportButtonText=r(f.exportButtonText,"Export");f.lessText=r(f.lessText,"Less");f.moreText=r(f.moreText,"More");f.dateText=r(f.dateText,"Date");f.countText=r(f.countText,"Count");K(f.monthNames,12)&&(f.monthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));K(f.dayNames,7)&&(f.dayNames="Mon Tue Wed Thu Fri Sat Sun".split(" "))}function K(a,b){b=O(b)?b:1;return!P(a)||a.length<b}var B=null,N=null,f={},n={empty:"",space:" ",newLine:"\n"},R={},H=null,
k={};this.addDate=function(a,b,c,e){k.hasOwnProperty(a)&&(e=M(e)?e:!0,c=C(c)?c:"None",b=L(b),k[a].type.hasOwnProperty(c)||(k[a].type[c]={},k[a].types++),k[a].type[c].hasOwnProperty(b)||(k[a].type[c][b]=0),k[a].type[c][b]++,e&&w(k[a].options));return this};this.removeDate=function(a,b,c,e){k.hasOwnProperty(a)&&(c=C(c)?c:"None",b=L(b),k[a].type.hasOwnProperty(c)&&k[a].type[c].hasOwnProperty(b)&&(e=M(e)?e:!0,0<k[a].type[c][b]&&k[a].type[c][b]--,e&&w(k[a].options)));return this};this.reset=function(a,
b){if(k.hasOwnProperty(a)){b=M(b)?b:!0;var c=k[a].options;c.currentView.type="None";U(a,c);b&&w(k[a].options)}return this};this.refresh=function(a){k.hasOwnProperty(a)&&(a=k[a].options,w(a),t(a.onRefresh,a.element));return this};this.refreshAll=function(){for(var a in k)if(k.hasOwnProperty(a)){var b=k[a].options;w(b);t(b.onRefresh,b.element)}return this};this.setYear=function(a,b){if(k.hasOwnProperty(a)){var c=k[a].options;c.currentView.year=b;w(c);t(c.onSetYear,c.currentView.year)}return this};this.getYear=
function(a){var b=null;k.hasOwnProperty(a)&&(b=k[a].options.currentView.year);return b};this.renderAll=function(){S();return this};this.destroyAll=function(){for(var a in k)if(k.hasOwnProperty(a)){var b=k[a].options;b.element.innerHTML=n.empty;b.element.className=n.empty;t(b.onDestroy,b.element)}k={};return this};this.destroy=function(a){if(k.hasOwnProperty(a)){var b=k[a].options;b.element.innerHTML=n.empty;b.element.className=n.empty;t(b.onDestroy,b.element);delete k[a]}return this};this.setConfiguration=
function(a){f=J(a)?a:{};Z();return this};this.getVersion=function(){return"1.4.0"};(function(a,b){B=a;N=b;Z();B.addEventListener("DOMContentLoaded",function(){S()});u(N.$heat)||(N.$heat=this)})(document,window)})();