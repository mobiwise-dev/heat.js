/*! Heat.js v1.2.0 | (c) Bunoon 2024 | MIT License */
(function(){function t(a){a.element.className="heat-js";a.element.innerHTML=q.empty;X(a);Y(a)}function X(a){N(a.currentView.year)||(a.currentView.year=(new Date).getFullYear());if(a.showTitle||a.showYearSelector||a.showRefreshButton||a.showExportButton){var c=n("div","title-bar");a.element.appendChild(c);if(a.showTitle){var b=n("div","title");b.innerHTML=a.titleText;c.appendChild(b)}a.showExportButton&&(b=n("button","export"),b.innerHTML=f.exportButtonText,c.appendChild(b),b.onclick=function(){var e=
k[a.element.id].type[a.currentView.type];var g=[];var h=[];g.push([D(f.dateText),D(f.countText)].join());for(var l in e)e.hasOwnProperty(l)&&h.push(l);h.sort();if(a.exportOnlyYearBeingViewed)for(h=0;12>h;h++){l=(new Date(a.currentView.year,h+1,0)).getDate();for(var p=0;p<l;p++){var m=H(new Date(a.currentView.year,h,p+1));e.hasOwnProperty(m)&&g.push([D(m),D(e[m])].join())}}else for(l=h.length,p=0;p<l;p++)m=h[p],e.hasOwnProperty(m)&&g.push([D(m),D(e[m])].join());g=g.join(q.newLine);g!==q.empty&&(e=
n("a"),e.style.display="none",e.setAttribute("target","_blank"),e.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(g)),g=e.setAttribute,l=new Date,h=z(l.getDate())+"-"+z(l.getMonth()+1)+"-"+l.getFullYear(),l=z(l.getHours())+"-"+z(l.getMinutes()),p=q.empty,"None"!==a.currentView.type&&(p=a.currentView.type.toLowerCase().replace(q.space,"_")+"_"),g.call(e,"download",p+h+"_"+l+".csv"),A.body.appendChild(e),e.click(),A.body.removeChild(e));u(a.onExport,a.element)});a.showRefreshButton&&
(b=n("button","refresh"),b.innerHTML=f.refreshButtonText,c.appendChild(b),b.onclick=function(){t(a);u(a.onRefresh,a.element)});a.showYearSelector&&(b=n("button","back"),b.innerHTML=f.backButtonText,c.appendChild(b),b.onclick=function(){a.currentView.year--;t(a);u(a.onBackYear,a.currentView.year)},a.currentView.yearText=n("div","year-text"),a.currentView.yearText.innerHTML=a.currentView.year,c.appendChild(a.currentView.yearText),b=n("button","next"),b.innerHTML=f.nextButtonText,c.appendChild(b),b.onclick=
function(){a.currentView.year++;t(a);u(a.onNextYear,a.currentView.year)})}}function Y(a){var c=n("div","map-contents");a.element.appendChild(c);var b=n("div","map");c.appendChild(b);Z(a);c=a.currentView.year;var e=!1;if(a.showDayNames){var g=n("div","days");b.appendChild(g);if(!a.showMonthNames||a.placeMonthNamesOnTheBottom)g.style.paddingTop="0px",g.style.marginTop=a.placeMonthNamesOnTheBottom?"-2px":"-5px";for(var h=0;7>h;h++)if(-1<a.daysToShow.indexOf(h+1)){var l=n("div","day-name");l.innerHTML=
f.dayNames[h];g.appendChild(l)}}g=n("div","months");b.appendChild(g);b=a.mapRangeColors.sort(function(aa,ba){return ba.range-aa.range});for(h=0;12>h;h++)if(-1<a.monthsToShow.indexOf(h+1)){l=n("div","month");g.appendChild(l);if(a.showMonthNames&&!a.placeMonthNamesOnTheBottom){var p=n("div","month-name");p.innerHTML=f.monthNames[h];l.appendChild(p)}var m=n("div","day-columns");l.appendChild(m);var E=(new Date(c,h+1,0)).getDate(),d=n("div","day-column"),F=!1;m.appendChild(d);p=Q(new Date(c,h,1));var v=
1;E+=p;for(var C=0;C<E;C++){if(C>=p)F=!0;else{var ca=n("div","day-disabled");d.appendChild(ca)}F&&(-1<a.daysToShow.indexOf(v)&&da(a,d,C-p,h,c,b),0===(C+1)%7&&(d=n("div","day-column"),m.appendChild(d),v=0));v++}a.showMonthNames&&a.placeMonthNamesOnTheBottom&&(m=n("div","month-name-bottom"),m.innerHTML=f.monthNames[h],l.appendChild(m));e&&w(G)&&(0<p&&!a.showMonthDayGaps?l.style.marginLeft=-G+"px":0===p&&a.showMonthDayGaps&&(l.style.marginLeft=G+"px"));e=!0}}function da(a,c,b,e,g,h){var l=b+1;b=n("div",
"day");var p=new Date(g,e,l),m=k[a.element.id].type[a.currentView.type][H(p)];m=N(m)?m:0;b.title=ea(a.dayToolTipText,p);c.appendChild(b);I(a.onDayClick)&&(b.onclick=function(){u(a.onDayClick,p,m)});c=a.mapRangeColors.length;e=null;for(g=0;g<c;g++)if(l=h[g],m>=l.minimum)e=l;else break;w(e)&&R(a,e.id)&&(b.className+=q.space+e.cssClassName);w(G)||(h=S(b,"margin-left",!0),c=S(b,"margin-right",!0),G=b.offsetWidth+h+c)}function Z(a){var c=n("div","guide");a.element.appendChild(c);var b=n("div","map-types");
c.appendChild(b);var e=0;for(h in k[a.element.id].type.None)if(k[a.element.id].type.None.hasOwnProperty(h)){e++;break}if(1<k[a.element.id].types)for(var g in k[a.element.id].type)if("None"!==g||0<e)0===e&&"None"===a.currentView.type&&(a.currentView.type=g),fa(a,b,g);if(a.showGuide){b=n("div","map-toggles");c.appendChild(b);c=n("div","less-text");c.innerHTML=f.lessText;b.appendChild(c);a.mapTogglesEnabled?c.onclick=function(){T(a,!1)}:c.className+=q.space+"no-click";c=n("div","days");b.appendChild(c);
e=a.mapRangeColors.sort(function(l,p){return p.range-l.range});var h=e.length;for(g=0;g<h;g++)ha(a,c,e[g]);c=n("div","more-text");c.innerHTML=f.moreText;b.appendChild(c);a.mapTogglesEnabled?c.onclick=function(){T(a,!0)}:c.className+=q.space+"no-click"}}function fa(a,c,b){var e=n("button","type");e.innerHTML=b;c.appendChild(e);a.currentView.type===b&&(e.className+=q.space+"active");e.onclick=function(){a.currentView.type!==b&&(a.currentView.type=b,u(a.onTypeSwitch,b),t(a))}}function ha(a,c,b){var e=
n("div");e.title=b.tooltipText;c.appendChild(e);R(a,b.id)?e.className="day "+b.cssClassName:e.className="day";a.mapTogglesEnabled?e.onclick=function(){a.currentView.colorsVisible.hasOwnProperty(b.id)||(a.currentView.colorsVisible[b.id]=!0);e.className=a.currentView.colorsVisible[b.id]?"day":"day "+b.cssClassName;a.currentView.colorsVisible[b.id]=!a.currentView.colorsVisible[b.id];t(a)}:e.className+=q.space+"no-click"}function R(a,c){return!a.currentView.colorsVisible.hasOwnProperty(c)||a.currentView.colorsVisible[c]}
function U(a,c){k[a]={options:c,type:{},types:1};k[a].type.None={}}function T(a,c){for(var b=a.mapRangeColors.length,e=0;e<b;e++)a.currentView.colorsVisible[a.mapRangeColors[e].id]=c;t(a)}function D(a){a=a.toString().replace(/(\r\n|\n|\r)/gm,q.empty).replace(/(\s\s)/gm,q.space);a=a.replace(/"/g,'""');return'"'+a+'"'}function Q(a){return 0>a.getDay()-1?6:a.getDay()-1}function ea(a,c){var b=a,e=Q(c);b=b.replace("{dddd}",f.dayNames[e]);b=b.replace("{dd}",z(c.getDate()));b=b.replace("{d}",c.getDate());
e=b.replace;var g=c.getDate(),h=f.thText;if(31===g||21===g||1===g)h=f.stText;else if(22===g||2===g)h=f.ndText;else if(23===g||3===g)h=f.rdText;b=e.call(b,"{o}",h);b=b.replace("{mmmm}",f.monthNames[c.getMonth()]);b=b.replace("{mm}",z(c.getMonth()+1));b=b.replace("{m}",c.getMonth()+1);b=b.replace("{yyyy}",c.getFullYear());b=b.replace("{yyy}",c.getFullYear().toString().substring(1));b=b.replace("{yy}",c.getFullYear().toString().substring(2));return b=b.replace("{y}",parseInt(c.getFullYear().toString().substring(2)).toString())}
function w(a){return null!==a&&void 0!==a&&a!==q.empty}function J(a){return w(a)&&"object"===typeof a}function K(a){return w(a)&&"boolean"===typeof a}function B(a){return w(a)&&"string"===typeof a}function I(a){return w(a)&&"function"===typeof a}function N(a){return w(a)&&"number"===typeof a}function O(a){return J(a)&&a instanceof Array}function n(a,c){var b=a.toLowerCase();var e="text"===b;P.hasOwnProperty(b)||(P[b]=e?A.createTextNode(q.empty):A.createElement(b));b=P[b].cloneNode(!1);w(c)&&(b.className=
c);return b}function S(a,c,b){var e=null;b=w(b)?b:!1;L.getComputedStyle?e=A.defaultView.getComputedStyle(a,null).getPropertyValue(c):a.currentStyle&&(e=a.currentStyle[c]);b&&(e=parseFloat(e,10));return e}function u(a){I(a)&&a.apply(null,[].slice.call(arguments,1))}function r(a,c){return B(a)?a:c}function x(a,c){return K(a)?a:c}function y(a,c){return I(a)?a:c}function ia(a){var c=!0,b=null;try{B(a)&&(b=JSON.parse(a))}catch(e){try{b=eval("("+a+")"),I(b)&&(b=b())}catch(g){f.safeMode||(console.error("Errors in object: "+
e.message+", "+g.message),c=!1),b=null}}return{parsed:c,result:b}}function V(){for(var a=[],c=0;32>c;c++){8!==c&&12!==c&&16!==c&&20!==c||a.push("-");var b=Math.floor(16*Math.random()).toString(16);a.push(b)}return a.join(q.empty)}function z(a){a=a.toString();return 1===a.length?"0"+a:a}function H(a){return a.getFullYear()+"-"+z(a.getMonth()+1)+"-"+z(a.getDate())}function W(){f.safeMode=x(f.safeMode,!0);var a=f,c=f.domElementTypes,b=["*"];B(c)?(c=c.split(q.space),0===c.length&&(c=b)):c=O(c)?c:b;a.domElementTypes=
c;f.stText=r(f.stText,"st");f.ndText=r(f.ndText,"nd");f.rdText=r(f.rdText,"rd");f.thText=r(f.thText,"th");f.backButtonText=r(f.backButtonText,"Back");f.nextButtonText=r(f.nextButtonText,"Next");f.refreshButtonText=r(f.refreshButtonText,"Refresh");f.exportButtonText=r(f.exportButtonText,"Export");f.lessText=r(f.lessText,"Less");f.moreText=r(f.moreText,"More");f.dateText=r(f.dateText,"Date");f.countText=r(f.countText,"Count");M(f.monthNames,12)&&(f.monthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));
M(f.dayNames,7)&&(f.dayNames="Mon Tue Wed Thu Fri Sat Sun".split(" "))}function M(a,c){c=N(c)?c:1;return!O(a)||a.length<c}var A=null,L=null,f={},q={empty:"",space:" ",newLine:"\n"},P={},G=null,k={};this.addDate=function(a,c,b,e){k.hasOwnProperty(a)&&(e=K(e)?e:!0,b=B(b)?b:"None",c=H(c),k[a].type.hasOwnProperty(b)||(k[a].type[b]={},k[a].types++),k[a].type[b].hasOwnProperty(c)||(k[a].type[b][c]=0),k[a].type[b][c]++,e&&t(k[a].options));return this};this.removeDate=function(a,c,b,e){k.hasOwnProperty(a)&&
(b=B(b)?b:"None",c=H(c),k[a].type.hasOwnProperty(b)&&k[a].type[b].hasOwnProperty(c)&&(e=K(e)?e:!0,0<k[a].type[b][c]&&k[a].type[b][c]--,e&&t(k[a].options)));return this};this.reset=function(a,c){if(k.hasOwnProperty(a)){c=K(c)?c:!0;var b=k[a].options;b.currentView.type="None";U(a,b);c&&t(k[a].options)}return this};this.refresh=function(a){k.hasOwnProperty(a)&&(a=k[a].options,t(a),u(a.onRefresh,a.element));return this};this.refreshAll=function(){for(var a in k)if(k.hasOwnProperty(a)){var c=k[a].options;
t(c);u(c.onRefresh,c.element)}return this};this.setYear=function(a,c){if(k.hasOwnProperty(a)){var b=k[a].options;b.currentView.year=c;t(b);u(b.onSetYear,b.currentView.year)}return this};this.getYear=function(a){var c=null;k.hasOwnProperty(a)&&(c=k[a].options.currentView.year);return c};this.destroyAll=function(){for(var a in k)if(k.hasOwnProperty(a)){var c=k[a].options;c.element.innerHTML=q.empty;c.element.className=q.empty;u(c.onDestroy,c.element)}k={};return this};this.destroy=function(a){if(k.hasOwnProperty(a)){var c=
k[a].options;c.element.innerHTML=q.empty;c.element.className=q.empty;u(c.onDestroy,c.element);delete k[a]}return this};this.setConfiguration=function(a){f=J(a)?a:{};W();return this};this.getVersion=function(){return"1.2.0"};(function(a,c){A=a;L=c;W();A.addEventListener("DOMContentLoaded",function(){for(var b=f.domElementTypes,e=b.length,g=0;g<e;g++){var h=A.getElementsByTagName(b[g]);h=[].slice.call(h);for(var l=h.length,p=0;p<l;p++){var m=h[p],E=!0;if(w(m)&&m.hasAttribute("data-heat-options")){var d=
m.getAttribute("data-heat-options");if(B(d))if(d=ia(d),d.parsed&&J(d.result)){d=d.result;d=J(d)?d:{};d.showDayNames=x(d.showDayNames,!0);d.showGuide=x(d.showGuide,!0);d.showTitle=x(d.showTitle,!0);d.showYearSelector=x(d.showYearSelector,!0);d.showMonthDayGaps=x(d.showMonthDayGaps,!0);d.showRefreshButton=x(d.showRefreshButton,!1);d.showMonthNames=x(d.showMonthNames,!0);d.showExportButton=x(d.showExportButton,!1);d.mapTogglesEnabled=x(d.mapTogglesEnabled,!0);d.placeMonthNamesOnTheBottom=x(d.placeMonthNamesOnTheBottom,
!1);d.exportOnlyYearBeingViewed=x(d.exportOnlyYearBeingViewed,!0);M(d.monthsToShow)&&(d.monthsToShow=[1,2,3,4,5,6,7,8,9,10,11,12]);M(d.daysToShow)&&(d.daysToShow=[1,2,3,4,5,6,7]);var F=d;var v=d.mapRangeColors;var C=[{minimum:10,cssClassName:"day-color-1",tooltipText:"Day Color 1"},{minimum:15,cssClassName:"day-color-2",tooltipText:"Day Color 2"},{minimum:20,cssClassName:"day-color-3",tooltipText:"Day Color 3"},{minimum:25,cssClassName:"day-color-4",tooltipText:"Day Color 4"}];v=O(v)?v:C;F.mapRangeColors=
v;F=d.mapRangeColors.length;for(v=0;v<F;v++)B(d.mapRangeColors[v].id)||(d.mapRangeColors[v].id=V());d.titleText=r(d.titleText,"Heat.js");d.dayToolTipText=r(d.dayToolTipText,"{d}{o} {mmmm} {yyyy}");d.onDayClick=y(d.onDayClick,null);d.onBackYear=y(d.onBackYear,null);d.onNextYear=y(d.onNextYear,null);d.onRefresh=y(d.onRefresh,null);d.onBeforeRender=y(d.onBeforeRender,null);d.onRenderComplete=y(d.onRenderComplete,null);d.onDestroy=y(d.onDestroy,null);d.onExport=y(d.onExport,null);d.onSetYear=y(d.onSetYear,
null);d.onTypeSwitch=y(d.onTypeSwitch,null);d.element=m;d.currentView={};d.currentView.colorsVisible={};d.currentView.year=null;d.currentView.type="None";u(d.onBeforeRender,m);B(m.id)||(m.id=V());m.removeAttribute("data-heat-options");U(m.id,d);t(d);u(d.onRenderComplete,m)}else f.safeMode||(console.error("The attribute 'data-heat-options' is not a valid object."),E=!1);else f.safeMode||(console.error("The attribute 'data-heat-options' has not been set correctly."),E=!1)}if(!E)break}}});w(L.$heat)||
(L.$heat=this)})(document,window)})();