/*! Heat.js v1.3.0 | (c) Bunoon 2024 | MIT License */
(function(){function w(a){a.element.className="heat-js";a.element.innerHTML=n.empty;Z(a);aa(a)}function Z(a){if(a.showTitle||a.showYearSelector||a.showRefreshButton||a.showExportButton){var b=p(a.element,"div","title-bar");a.showTitle&&z(b,"div","title",a.titleText);a.showExportButton&&(z(b,"button","export",f.exportButtonText).onclick=function(){var c=k[a.element.id].type[a.currentView.type];var e=[];var g=[];e.push([G(f.dateText),G(f.countText)].join());for(var h in c)c.hasOwnProperty(h)&&g.push(h);
g.sort();if(a.exportOnlyYearBeingViewed)for(g=0;12>g;g++){h=(new Date(a.currentView.year,g+1,0)).getDate();for(var l=0;l<h;l++){var m=K(new Date(a.currentView.year,g,l+1));c.hasOwnProperty(m)&&e.push([G(m),G(c[m])].join())}}else for(h=g.length,l=0;l<h;l++)m=g[l],c.hasOwnProperty(m)&&e.push([G(m),G(c[m])].join());e=e.join(n.newLine);e!==n.empty&&(c=p(B.body,"a"),c.style.display="none",c.setAttribute("target","_blank"),c.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(e)),e=c.setAttribute,
h=new Date,g=C(h.getDate())+"-"+C(h.getMonth()+1)+"-"+h.getFullYear(),h=C(h.getHours())+"-"+C(h.getMinutes()),l=n.empty,"None"!==a.currentView.type&&(l=a.currentView.type.toLowerCase().replace(n.space,"_")+"_"),e.call(c,"download",l+g+"_"+h+".csv"),c.click(),B.body.removeChild(c));t(a.onExport,a.element)});a.showRefreshButton&&(z(b,"button","refresh",f.refreshButtonText).onclick=function(){w(a);t(a.onRefresh,a.element)});a.showYearSelector&&(z(b,"button","back",f.backButtonText).onclick=function(){a.currentView.year--;
w(a);t(a.onBackYear,a.currentView.year)},a.currentView.yearText=z(b,"div","year-text",a.currentView.year),z(b,"button","next",f.nextButtonText).onclick=function(){a.currentView.year++;w(a);t(a.onNextYear,a.currentView.year)})}}function aa(a){var b=p(a.element,"div","map-contents"),c=p(b,"div","map");ba(a);b=a.currentView.year;var e=!1;if(a.showDayNames){var g=p(c,"div","days");if(!a.showMonthNames||a.placeMonthNamesOnTheBottom)g.style.paddingTop="0px",g.style.marginTop=a.placeMonthNamesOnTheBottom?
"-2px":"-5px";for(var h=0;7>h;h++)-1<a.daysToShow.indexOf(h+1)&&z(g,"div","day-name",f.dayNames[h])}c=p(c,"div","months");g=a.mapRangeColors.sort(function(ca,da){return da.range-ca.range});for(h=0;12>h;h++)if(-1<a.monthsToShow.indexOf(h+1)){var l=p(c,"div","month");a.showMonthNames&&!a.placeMonthNamesOnTheBottom&&z(l,"div","month-name",f.monthNames[h]);var m=p(l,"div","day-columns"),q=(new Date(b,h+1,0)).getDate(),E=p(m,"div","day-column"),d=!1,u=S(new Date(b,h,1)),r=1;q+=u;for(var F=0;F<q;F++){F>=
u?d=!0:p(E,"div","day-disabled");if(d){var H=null;-1<a.daysToShow.indexOf(r)&&(H=ea(a,E,F-u,h,b,g));if(0===(F+1)%7&&(E=p(m,"div","day-column"),r=0,!x(I)&&x(H))){var fa=T(H,"margin-left",!0),ha=T(H,"margin-right",!0);I=H.offsetWidth+fa+ha}}r++}a.showMonthNames&&a.placeMonthNamesOnTheBottom&&z(l,"div","month-name-bottom",f.monthNames[h]);e&&x(I)&&(0<u&&!a.showMonthDayGaps?l.style.marginLeft=-I+"px":0===u&&a.showMonthDayGaps&&(l.style.marginLeft=I+"px"));e=!0}}function ea(a,b,c,e,g,h){c+=1;b=p(b,"div",
"day");var l=new Date(g,e,c),m=k[a.element.id].type[a.currentView.type][K(l)];m=P(m)?m:0;J(a.onDayToolTipRender)?b.title=t(a.onDayToolTipRender,l,m):b.title=ia(a.dayToolTipText,l);a.showDayNumbers&&0<m&&(b.innerHTML=m.toString());J(a.onDayClick)&&(b.onclick=function(){t(a.onDayClick,l,m)});e=a.mapRangeColors.length;g=null;for(c=0;c<e;c++){var q=h[c];if(m>=q.minimum)g=q;else break}x(g)&&U(a,g.id)&&(b.className+=n.space+g.cssClassName);return b}function ba(a){var b=p(a.element,"div","guide"),c=p(b,
"div","map-types"),e=0;for(h in k[a.element.id].type.None)if(k[a.element.id].type.None.hasOwnProperty(h)){e++;break}if(1<k[a.element.id].types)for(var g in k[a.element.id].type)if("None"!==g||0<e)0===e&&"None"===a.currentView.type&&(a.currentView.type=g),ja(a,c,g);if(a.showGuide){b=p(b,"div","map-toggles");c=z(b,"div","less-text",f.lessText);a.mapTogglesEnabled?c.onclick=function(){V(a,!1)}:c.className+=n.space+"no-click";c=p(b,"div","days");e=a.mapRangeColors.sort(function(l,m){return m.range-l.range});
var h=e.length;for(g=0;g<h;g++)ka(a,c,e[g]);b=z(b,"div","more-text",f.moreText);a.mapTogglesEnabled?b.onclick=function(){V(a,!0)}:b.className+=n.space+"no-click"}}function ja(a,b,c){b=z(b,"button","type",c);a.currentView.type===c&&(b.className+=n.space+"active");b.onclick=function(){a.currentView.type!==c&&(a.currentView.type=c,t(a.onTypeSwitch,c),w(a))}}function ka(a,b,c){var e=p(b,"div");e.title=c.tooltipText;U(a,c.id)?e.className="day "+c.cssClassName:e.className="day";a.mapTogglesEnabled?e.onclick=
function(){a.currentView.colorsVisible.hasOwnProperty(c.id)||(a.currentView.colorsVisible[c.id]=!0);e.className=a.currentView.colorsVisible[c.id]?"day":"day "+c.cssClassName;a.currentView.colorsVisible[c.id]=!a.currentView.colorsVisible[c.id];w(a)}:e.className+=n.space+"no-click"}function U(a,b){return!a.currentView.colorsVisible.hasOwnProperty(b)||a.currentView.colorsVisible[b]}function W(a,b){k[a]={options:b,type:{},types:1};k[a].type.None={}}function V(a,b){for(var c=a.mapRangeColors.length,e=
0;e<c;e++)a.currentView.colorsVisible[a.mapRangeColors[e].id]=b;w(a)}function G(a){a=a.toString().replace(/(\r\n|\n|\r)/gm,n.empty).replace(/(\s\s)/gm,n.space);a=a.replace(/"/g,'""');return'"'+a+'"'}function S(a){return 0>a.getDay()-1?6:a.getDay()-1}function ia(a,b){var c=a,e=S(b);c=c.replace("{dddd}",f.dayNames[e]);c=c.replace("{dd}",C(b.getDate()));c=c.replace("{d}",b.getDate());e=c.replace;var g=b.getDate(),h=f.thText;if(31===g||21===g||1===g)h=f.stText;else if(22===g||2===g)h=f.ndText;else if(23===
g||3===g)h=f.rdText;c=e.call(c,"{o}",h);c=c.replace("{mmmm}",f.monthNames[b.getMonth()]);c=c.replace("{mm}",C(b.getMonth()+1));c=c.replace("{m}",b.getMonth()+1);c=c.replace("{yyyy}",b.getFullYear());c=c.replace("{yyy}",b.getFullYear().toString().substring(1));c=c.replace("{yy}",b.getFullYear().toString().substring(2));return c=c.replace("{y}",parseInt(b.getFullYear().toString().substring(2)).toString())}function x(a){return null!==a&&void 0!==a&&a!==n.empty}function L(a){return x(a)&&"object"===typeof a}
function M(a){return x(a)&&"boolean"===typeof a}function D(a){return x(a)&&"string"===typeof a}function J(a){return x(a)&&"function"===typeof a}function P(a){return x(a)&&"number"===typeof a}function Q(a){return L(a)&&a instanceof Array}function p(a,b,c){b=b.toLowerCase();var e="text"===b;R.hasOwnProperty(b)||(R[b]=e?B.createTextNode(n.empty):B.createElement(b));b=R[b].cloneNode(!1);x(c)&&(b.className=c);a.appendChild(b);return b}function z(a,b,c,e){a=p(a,b,c);a.innerHTML=e;return a}function T(a,
b,c){var e=null;c=x(c)?c:!1;N.getComputedStyle?e=B.defaultView.getComputedStyle(a,null).getPropertyValue(b):a.currentStyle&&(e=a.currentStyle[b]);c&&(e=parseFloat(e,10));return e}function t(a){var b=null;J(a)&&(b=a.apply(null,[].slice.call(arguments,1)));return b}function v(a,b){return D(a)?a:b}function y(a,b){return M(a)?a:b}function A(a,b){return J(a)?a:b}function la(a){var b=!0,c=null;try{D(a)&&(c=JSON.parse(a))}catch(e){try{c=eval("("+a+")"),J(c)&&(c=c())}catch(g){f.safeMode||(console.error("Errors in object: "+
e.message+", "+g.message),b=!1),c=null}}return{parsed:b,result:c}}function X(){for(var a=[],b=0;32>b;b++){8!==b&&12!==b&&16!==b&&20!==b||a.push("-");var c=Math.floor(16*Math.random()).toString(16);a.push(c)}return a.join(n.empty)}function C(a){a=a.toString();return 1===a.length?"0"+a:a}function K(a){return a.getFullYear()+"-"+C(a.getMonth()+1)+"-"+C(a.getDate())}function Y(){f.safeMode=y(f.safeMode,!0);var a=f,b=f.domElementTypes,c=["*"];D(b)?(b=b.split(n.space),0===b.length&&(b=c)):b=Q(b)?b:c;a.domElementTypes=
b;f.stText=v(f.stText,"st");f.ndText=v(f.ndText,"nd");f.rdText=v(f.rdText,"rd");f.thText=v(f.thText,"th");f.backButtonText=v(f.backButtonText,"Back");f.nextButtonText=v(f.nextButtonText,"Next");f.refreshButtonText=v(f.refreshButtonText,"Refresh");f.exportButtonText=v(f.exportButtonText,"Export");f.lessText=v(f.lessText,"Less");f.moreText=v(f.moreText,"More");f.dateText=v(f.dateText,"Date");f.countText=v(f.countText,"Count");O(f.monthNames,12)&&(f.monthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));
O(f.dayNames,7)&&(f.dayNames="Mon Tue Wed Thu Fri Sat Sun".split(" "))}function O(a,b){b=P(b)?b:1;return!Q(a)||a.length<b}var B=null,N=null,f={},n={empty:"",space:" ",newLine:"\n"},R={},I=null,k={};this.addDate=function(a,b,c,e){k.hasOwnProperty(a)&&(e=M(e)?e:!0,c=D(c)?c:"None",b=K(b),k[a].type.hasOwnProperty(c)||(k[a].type[c]={},k[a].types++),k[a].type[c].hasOwnProperty(b)||(k[a].type[c][b]=0),k[a].type[c][b]++,e&&w(k[a].options));return this};this.removeDate=function(a,b,c,e){k.hasOwnProperty(a)&&
(c=D(c)?c:"None",b=K(b),k[a].type.hasOwnProperty(c)&&k[a].type[c].hasOwnProperty(b)&&(e=M(e)?e:!0,0<k[a].type[c][b]&&k[a].type[c][b]--,e&&w(k[a].options)));return this};this.reset=function(a,b){if(k.hasOwnProperty(a)){b=M(b)?b:!0;var c=k[a].options;c.currentView.type="None";W(a,c);b&&w(k[a].options)}return this};this.refresh=function(a){k.hasOwnProperty(a)&&(a=k[a].options,w(a),t(a.onRefresh,a.element));return this};this.refreshAll=function(){for(var a in k)if(k.hasOwnProperty(a)){var b=k[a].options;
w(b);t(b.onRefresh,b.element)}return this};this.setYear=function(a,b){if(k.hasOwnProperty(a)){var c=k[a].options;c.currentView.year=b;w(c);t(c.onSetYear,c.currentView.year)}return this};this.getYear=function(a){var b=null;k.hasOwnProperty(a)&&(b=k[a].options.currentView.year);return b};this.destroyAll=function(){for(var a in k)if(k.hasOwnProperty(a)){var b=k[a].options;b.element.innerHTML=n.empty;b.element.className=n.empty;t(b.onDestroy,b.element)}k={};return this};this.destroy=function(a){if(k.hasOwnProperty(a)){var b=
k[a].options;b.element.innerHTML=n.empty;b.element.className=n.empty;t(b.onDestroy,b.element);delete k[a]}return this};this.setConfiguration=function(a){f=L(a)?a:{};Y();return this};this.getVersion=function(){return"1.3.0"};(function(a,b){B=a;N=b;Y();B.addEventListener("DOMContentLoaded",function(){for(var c=f.domElementTypes,e=c.length,g=0;g<e;g++){var h=B.getElementsByTagName(c[g]);h=[].slice.call(h);for(var l=h.length,m=0;m<l;m++){var q=h[m],E=!0;if(x(q)&&q.hasAttribute("data-heat-options")){var d=
q.getAttribute("data-heat-options");if(D(d))if(d=la(d),d.parsed&&L(d.result)){d=d.result;d=L(d)?d:{};d.showDayNames=y(d.showDayNames,!0);d.showGuide=y(d.showGuide,!0);d.showTitle=y(d.showTitle,!0);d.showYearSelector=y(d.showYearSelector,!0);d.showMonthDayGaps=y(d.showMonthDayGaps,!0);d.showRefreshButton=y(d.showRefreshButton,!1);d.showMonthNames=y(d.showMonthNames,!0);d.showExportButton=y(d.showExportButton,!1);d.mapTogglesEnabled=y(d.mapTogglesEnabled,!0);d.placeMonthNamesOnTheBottom=y(d.placeMonthNamesOnTheBottom,
!1);d.exportOnlyYearBeingViewed=y(d.exportOnlyYearBeingViewed,!0);var u=d;var r=d.year;var F=(new Date).getFullYear();r=P(r)?r:F;u.year=r;d.showDayNumbers=y(d.showDayNumbers,!1);O(d.monthsToShow)&&(d.monthsToShow=[1,2,3,4,5,6,7,8,9,10,11,12]);O(d.daysToShow)&&(d.daysToShow=[1,2,3,4,5,6,7]);u=d.mapRangeColors;r=[{minimum:10,cssClassName:"day-color-1",tooltipText:"Day Color 1"},{minimum:15,cssClassName:"day-color-2",tooltipText:"Day Color 2"},{minimum:20,cssClassName:"day-color-3",tooltipText:"Day Color 3"},
{minimum:25,cssClassName:"day-color-4",tooltipText:"Day Color 4"}];u=Q(u)?u:r;d.mapRangeColors=u;u=d.mapRangeColors.length;for(r=0;r<u;r++)D(d.mapRangeColors[r].id)||(d.mapRangeColors[r].id=X());d.titleText=v(d.titleText,"Heat.js");d.dayToolTipText=v(d.dayToolTipText,"{d}{o} {mmmm} {yyyy}");d.onDayClick=A(d.onDayClick,null);d.onBackYear=A(d.onBackYear,null);d.onNextYear=A(d.onNextYear,null);d.onRefresh=A(d.onRefresh,null);d.onBeforeRender=A(d.onBeforeRender,null);d.onRenderComplete=A(d.onRenderComplete,
null);d.onDestroy=A(d.onDestroy,null);d.onExport=A(d.onExport,null);d.onSetYear=A(d.onSetYear,null);d.onTypeSwitch=A(d.onTypeSwitch,null);d.onDayToolTipRender=A(d.onDayToolTipRender,null);d.element=q;d.currentView={};d.currentView.colorsVisible={};d.currentView.year=d.year;d.currentView.type="None";t(d.onBeforeRender,q);D(q.id)||(q.id=X());q.removeAttribute("data-heat-options");W(q.id,d);w(d);t(d.onRenderComplete,q)}else f.safeMode||(console.error("The attribute 'data-heat-options' is not a valid object."),
E=!1);else f.safeMode||(console.error("The attribute 'data-heat-options' has not been set correctly."),E=!1)}if(!E)break}}});x(N.$heat)||(N.$heat=this)})(document,window)})();