/*! Heat.js v1.2.0 | (c) Bunoon 2024 | MIT License */
(function(){function u(a){a.element.className="heat-js";a.element.innerHTML=n.empty;Y(a);Z(a)}function Y(a){if(a.showTitle||a.showYearSelector||a.showRefreshButton||a.showExportButton){var b=p(a.element,"div","title-bar");a.showTitle&&w(b,"div","title",a.titleText);a.showExportButton&&(w(b,"button","export",f.exportButtonText).onclick=function(){var c=k[a.element.id].type[a.currentView.type];var e=[];var g=[];e.push([G(f.dateText),G(f.countText)].join());for(var h in c)c.hasOwnProperty(h)&&g.push(h);
g.sort();if(a.exportOnlyYearBeingViewed)for(g=0;12>g;g++){h=(new Date(a.currentView.year,g+1,0)).getDate();for(var l=0;l<h;l++){var m=I(new Date(a.currentView.year,g,l+1));c.hasOwnProperty(m)&&e.push([G(m),G(c[m])].join())}}else for(h=g.length,l=0;l<h;l++)m=g[l],c.hasOwnProperty(m)&&e.push([G(m),G(c[m])].join());e=e.join(n.newLine);e!==n.empty&&(c=p(C.body,"a"),c.style.display="none",c.setAttribute("target","_blank"),c.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(e)),e=c.setAttribute,
h=new Date,g=D(h.getDate())+"-"+D(h.getMonth()+1)+"-"+h.getFullYear(),h=D(h.getHours())+"-"+D(h.getMinutes()),l=n.empty,"None"!==a.currentView.type&&(l=a.currentView.type.toLowerCase().replace(n.space,"_")+"_"),e.call(c,"download",l+g+"_"+h+".csv"),c.click(),C.body.removeChild(c));v(a.onExport,a.element)});a.showRefreshButton&&(w(b,"button","refresh",f.refreshButtonText).onclick=function(){u(a);v(a.onRefresh,a.element)});a.showYearSelector&&(w(b,"button","back",f.backButtonText).onclick=function(){a.currentView.year--;
u(a);v(a.onBackYear,a.currentView.year)},a.currentView.yearText=w(b,"div","year-text",a.currentView.year),w(b,"button","next",f.nextButtonText).onclick=function(){a.currentView.year++;u(a);v(a.onNextYear,a.currentView.year)})}}function Z(a){var b=p(a.element,"div","map-contents"),c=p(b,"div","map");aa(a);b=a.currentView.year;var e=!1;if(a.showDayNames){var g=p(c,"div","days");if(!a.showMonthNames||a.placeMonthNamesOnTheBottom)g.style.paddingTop="0px",g.style.marginTop=a.placeMonthNamesOnTheBottom?
"-2px":"-5px";for(var h=0;7>h;h++)-1<a.daysToShow.indexOf(h+1)&&w(g,"div","day-name",f.dayNames[h])}c=p(c,"div","months");g=a.mapRangeColors.sort(function(ba,ca){return ca.range-ba.range});for(h=0;12>h;h++)if(-1<a.monthsToShow.indexOf(h+1)){var l=p(c,"div","month");a.showMonthNames&&!a.placeMonthNamesOnTheBottom&&w(l,"div","month-name",f.monthNames[h]);var m=p(l,"div","day-columns"),r=(new Date(b,h+1,0)).getDate(),F=p(m,"div","day-column"),d=!1,z=R(new Date(b,h,1)),q=1;r+=z;for(var B=0;B<r;B++)B>=
z?d=!0:p(F,"div","day-disabled"),d&&(-1<a.daysToShow.indexOf(q)&&da(a,F,B-z,h,b,g),0===(B+1)%7&&(F=p(m,"div","day-column"),q=0)),q++;a.showMonthNames&&a.placeMonthNamesOnTheBottom&&w(l,"div","month-name-bottom",f.monthNames[h]);e&&x(H)&&(0<z&&!a.showMonthDayGaps?l.style.marginLeft=-H+"px":0===z&&a.showMonthDayGaps&&(l.style.marginLeft=H+"px"));e=!0}}function da(a,b,c,e,g,h){c+=1;b=p(b,"div","day");var l=new Date(g,e,c),m=k[a.element.id].type[a.currentView.type][I(l)];m=O(m)?m:0;b.title=ea(a.dayToolTipText,
l);J(a.onDayClick)&&(b.onclick=function(){v(a.onDayClick,l,m)});e=a.mapRangeColors.length;g=null;for(c=0;c<e;c++){var r=h[c];if(m>=r.minimum)g=r;else break}x(g)&&S(a,g.id)&&(b.className+=n.space+g.cssClassName);x(H)||(h=T(b,"margin-left",!0),e=T(b,"margin-right",!0),H=b.offsetWidth+h+e)}function aa(a){var b=p(a.element,"div","guide"),c=p(b,"div","map-types"),e=0;for(h in k[a.element.id].type.None)if(k[a.element.id].type.None.hasOwnProperty(h)){e++;break}if(1<k[a.element.id].types)for(var g in k[a.element.id].type)if("None"!==
g||0<e)0===e&&"None"===a.currentView.type&&(a.currentView.type=g),fa(a,c,g);if(a.showGuide){b=p(b,"div","map-toggles");c=w(b,"div","less-text",f.lessText);a.mapTogglesEnabled?c.onclick=function(){U(a,!1)}:c.className+=n.space+"no-click";c=p(b,"div","days");e=a.mapRangeColors.sort(function(l,m){return m.range-l.range});var h=e.length;for(g=0;g<h;g++)ha(a,c,e[g]);b=w(b,"div","more-text",f.moreText);a.mapTogglesEnabled?b.onclick=function(){U(a,!0)}:b.className+=n.space+"no-click"}}function fa(a,b,c){b=
w(b,"button","type",c);a.currentView.type===c&&(b.className+=n.space+"active");b.onclick=function(){a.currentView.type!==c&&(a.currentView.type=c,v(a.onTypeSwitch,c),u(a))}}function ha(a,b,c){var e=p(b,"div");e.title=c.tooltipText;S(a,c.id)?e.className="day "+c.cssClassName:e.className="day";a.mapTogglesEnabled?e.onclick=function(){a.currentView.colorsVisible.hasOwnProperty(c.id)||(a.currentView.colorsVisible[c.id]=!0);e.className=a.currentView.colorsVisible[c.id]?"day":"day "+c.cssClassName;a.currentView.colorsVisible[c.id]=
!a.currentView.colorsVisible[c.id];u(a)}:e.className+=n.space+"no-click"}function S(a,b){return!a.currentView.colorsVisible.hasOwnProperty(b)||a.currentView.colorsVisible[b]}function V(a,b){k[a]={options:b,type:{},types:1};k[a].type.None={}}function U(a,b){for(var c=a.mapRangeColors.length,e=0;e<c;e++)a.currentView.colorsVisible[a.mapRangeColors[e].id]=b;u(a)}function G(a){a=a.toString().replace(/(\r\n|\n|\r)/gm,n.empty).replace(/(\s\s)/gm,n.space);a=a.replace(/"/g,'""');return'"'+a+'"'}function R(a){return 0>
a.getDay()-1?6:a.getDay()-1}function ea(a,b){var c=a,e=R(b);c=c.replace("{dddd}",f.dayNames[e]);c=c.replace("{dd}",D(b.getDate()));c=c.replace("{d}",b.getDate());e=c.replace;var g=b.getDate(),h=f.thText;if(31===g||21===g||1===g)h=f.stText;else if(22===g||2===g)h=f.ndText;else if(23===g||3===g)h=f.rdText;c=e.call(c,"{o}",h);c=c.replace("{mmmm}",f.monthNames[b.getMonth()]);c=c.replace("{mm}",D(b.getMonth()+1));c=c.replace("{m}",b.getMonth()+1);c=c.replace("{yyyy}",b.getFullYear());c=c.replace("{yyy}",
b.getFullYear().toString().substring(1));c=c.replace("{yy}",b.getFullYear().toString().substring(2));return c=c.replace("{y}",parseInt(b.getFullYear().toString().substring(2)).toString())}function x(a){return null!==a&&void 0!==a&&a!==n.empty}function K(a){return x(a)&&"object"===typeof a}function L(a){return x(a)&&"boolean"===typeof a}function E(a){return x(a)&&"string"===typeof a}function J(a){return x(a)&&"function"===typeof a}function O(a){return x(a)&&"number"===typeof a}function P(a){return K(a)&&
a instanceof Array}function p(a,b,c){b=b.toLowerCase();var e="text"===b;Q.hasOwnProperty(b)||(Q[b]=e?C.createTextNode(n.empty):C.createElement(b));b=Q[b].cloneNode(!1);x(c)&&(b.className=c);a.appendChild(b);return b}function w(a,b,c,e){a=p(a,b,c);a.innerHTML=e;return a}function T(a,b,c){var e=null;c=x(c)?c:!1;M.getComputedStyle?e=C.defaultView.getComputedStyle(a,null).getPropertyValue(b):a.currentStyle&&(e=a.currentStyle[b]);c&&(e=parseFloat(e,10));return e}function v(a){J(a)&&a.apply(null,[].slice.call(arguments,
1))}function t(a,b){return E(a)?a:b}function y(a,b){return L(a)?a:b}function A(a,b){return J(a)?a:b}function ia(a){var b=!0,c=null;try{E(a)&&(c=JSON.parse(a))}catch(e){try{c=eval("("+a+")"),J(c)&&(c=c())}catch(g){f.safeMode||(console.error("Errors in object: "+e.message+", "+g.message),b=!1),c=null}}return{parsed:b,result:c}}function W(){for(var a=[],b=0;32>b;b++){8!==b&&12!==b&&16!==b&&20!==b||a.push("-");var c=Math.floor(16*Math.random()).toString(16);a.push(c)}return a.join(n.empty)}function D(a){a=
a.toString();return 1===a.length?"0"+a:a}function I(a){return a.getFullYear()+"-"+D(a.getMonth()+1)+"-"+D(a.getDate())}function X(){f.safeMode=y(f.safeMode,!0);var a=f,b=f.domElementTypes,c=["*"];E(b)?(b=b.split(n.space),0===b.length&&(b=c)):b=P(b)?b:c;a.domElementTypes=b;f.stText=t(f.stText,"st");f.ndText=t(f.ndText,"nd");f.rdText=t(f.rdText,"rd");f.thText=t(f.thText,"th");f.backButtonText=t(f.backButtonText,"Back");f.nextButtonText=t(f.nextButtonText,"Next");f.refreshButtonText=t(f.refreshButtonText,
"Refresh");f.exportButtonText=t(f.exportButtonText,"Export");f.lessText=t(f.lessText,"Less");f.moreText=t(f.moreText,"More");f.dateText=t(f.dateText,"Date");f.countText=t(f.countText,"Count");N(f.monthNames,12)&&(f.monthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));N(f.dayNames,7)&&(f.dayNames="Mon Tue Wed Thu Fri Sat Sun".split(" "))}function N(a,b){b=O(b)?b:1;return!P(a)||a.length<b}var C=null,M=null,f={},n={empty:"",space:" ",newLine:"\n"},Q={},H=null,k={};this.addDate=function(a,
b,c,e){k.hasOwnProperty(a)&&(e=L(e)?e:!0,c=E(c)?c:"None",b=I(b),k[a].type.hasOwnProperty(c)||(k[a].type[c]={},k[a].types++),k[a].type[c].hasOwnProperty(b)||(k[a].type[c][b]=0),k[a].type[c][b]++,e&&u(k[a].options));return this};this.removeDate=function(a,b,c,e){k.hasOwnProperty(a)&&(c=E(c)?c:"None",b=I(b),k[a].type.hasOwnProperty(c)&&k[a].type[c].hasOwnProperty(b)&&(e=L(e)?e:!0,0<k[a].type[c][b]&&k[a].type[c][b]--,e&&u(k[a].options)));return this};this.reset=function(a,b){if(k.hasOwnProperty(a)){b=
L(b)?b:!0;var c=k[a].options;c.currentView.type="None";V(a,c);b&&u(k[a].options)}return this};this.refresh=function(a){k.hasOwnProperty(a)&&(a=k[a].options,u(a),v(a.onRefresh,a.element));return this};this.refreshAll=function(){for(var a in k)if(k.hasOwnProperty(a)){var b=k[a].options;u(b);v(b.onRefresh,b.element)}return this};this.setYear=function(a,b){if(k.hasOwnProperty(a)){var c=k[a].options;c.currentView.year=b;u(c);v(c.onSetYear,c.currentView.year)}return this};this.getYear=function(a){var b=
null;k.hasOwnProperty(a)&&(b=k[a].options.currentView.year);return b};this.destroyAll=function(){for(var a in k)if(k.hasOwnProperty(a)){var b=k[a].options;b.element.innerHTML=n.empty;b.element.className=n.empty;v(b.onDestroy,b.element)}k={};return this};this.destroy=function(a){if(k.hasOwnProperty(a)){var b=k[a].options;b.element.innerHTML=n.empty;b.element.className=n.empty;v(b.onDestroy,b.element);delete k[a]}return this};this.setConfiguration=function(a){f=K(a)?a:{};X();return this};this.getVersion=
function(){return"1.2.0"};(function(a,b){C=a;M=b;X();C.addEventListener("DOMContentLoaded",function(){for(var c=f.domElementTypes,e=c.length,g=0;g<e;g++){var h=C.getElementsByTagName(c[g]);h=[].slice.call(h);for(var l=h.length,m=0;m<l;m++){var r=h[m],F=!0;if(x(r)&&r.hasAttribute("data-heat-options")){var d=r.getAttribute("data-heat-options");if(E(d))if(d=ia(d),d.parsed&&K(d.result)){d=d.result;d=K(d)?d:{};d.showDayNames=y(d.showDayNames,!0);d.showGuide=y(d.showGuide,!0);d.showTitle=y(d.showTitle,
!0);d.showYearSelector=y(d.showYearSelector,!0);d.showMonthDayGaps=y(d.showMonthDayGaps,!0);d.showRefreshButton=y(d.showRefreshButton,!1);d.showMonthNames=y(d.showMonthNames,!0);d.showExportButton=y(d.showExportButton,!1);d.mapTogglesEnabled=y(d.mapTogglesEnabled,!0);d.placeMonthNamesOnTheBottom=y(d.placeMonthNamesOnTheBottom,!1);d.exportOnlyYearBeingViewed=y(d.exportOnlyYearBeingViewed,!0);var z=d;var q=d.year;var B=(new Date).getFullYear();q=O(q)?q:B;z.year=q;N(d.monthsToShow)&&(d.monthsToShow=
[1,2,3,4,5,6,7,8,9,10,11,12]);N(d.daysToShow)&&(d.daysToShow=[1,2,3,4,5,6,7]);z=d;q=d.mapRangeColors;B=[{minimum:10,cssClassName:"day-color-1",tooltipText:"Day Color 1"},{minimum:15,cssClassName:"day-color-2",tooltipText:"Day Color 2"},{minimum:20,cssClassName:"day-color-3",tooltipText:"Day Color 3"},{minimum:25,cssClassName:"day-color-4",tooltipText:"Day Color 4"}];q=P(q)?q:B;z.mapRangeColors=q;z=d.mapRangeColors.length;for(q=0;q<z;q++)E(d.mapRangeColors[q].id)||(d.mapRangeColors[q].id=W());d.titleText=
t(d.titleText,"Heat.js");d.dayToolTipText=t(d.dayToolTipText,"{d}{o} {mmmm} {yyyy}");d.onDayClick=A(d.onDayClick,null);d.onBackYear=A(d.onBackYear,null);d.onNextYear=A(d.onNextYear,null);d.onRefresh=A(d.onRefresh,null);d.onBeforeRender=A(d.onBeforeRender,null);d.onRenderComplete=A(d.onRenderComplete,null);d.onDestroy=A(d.onDestroy,null);d.onExport=A(d.onExport,null);d.onSetYear=A(d.onSetYear,null);d.onTypeSwitch=A(d.onTypeSwitch,null);d.element=r;d.currentView={};d.currentView.colorsVisible={};d.currentView.year=
d.year;d.currentView.type="None";v(d.onBeforeRender,r);E(r.id)||(r.id=W());r.removeAttribute("data-heat-options");V(r.id,d);u(d);v(d.onRenderComplete,r)}else f.safeMode||(console.error("The attribute 'data-heat-options' is not a valid object."),F=!1);else f.safeMode||(console.error("The attribute 'data-heat-options' has not been set correctly."),F=!1)}if(!F)break}}});x(M.$heat)||(M.$heat=this)})(document,window)})();