/*! Heat.js v2.2.0 | (c) Bunoon 2024 | MIT License */
(function(){function sa(){for(var a=g.domElementTypes,b=a.length,c=0;c<b;c++){var d=H.getElementsByTagName(a[c]);d=[].slice.call(d);for(var e=d.length,f=0;f<e;f++){var k=d[f],l=!0;if(t(k)&&k.hasAttribute("data-heat-options")){var m=k.getAttribute("data-heat-options");z(m)?(m=fa(m),m.parsed&&L(m.result)?ta(ua(m.result,k)):g.safeMode||(console.error("The attribute 'data-heat-options' is not a valid object."),l=!1)):g.safeMode||(console.error("The attribute 'data-heat-options' has not been set correctly."),
l=!1)}if(!l)break}}}function ua(a,b){var c=va(a),d=z(c.view)?c.view.toLowerCase():r.empty;c.currentView={};c.currentView.element=b;c.currentView.tooltip=null;c.currentView.tooltipTimer=null;c.currentView.mapContents=null;c.currentView.mapContentsScrollLeft=0;c.currentView.year=c.year;c.currentView.type=g.unknownTrendText;c.views.chart.enabled&&(c.currentView.chartContents=null,c.currentView.chartContentsScrollLeft=0);c.views.statistics.enabled&&(c.currentView.statisticsContents=null,c.currentView.statisticsContentsScrollLeft=
0);c.currentView.view="map"===d?1:"chart"===d?2:"statistics"===d?3:1;return c}function ta(a){p(a.onBeforeRender,a.currentView.element);z(a.currentView.element.id)||(a.currentView.element.id=wa());a.currentView.element.className="heat-js";a.currentView.element.removeAttribute("data-heat-options");xa(a.currentView.element.id,a);v(a);p(a.onRenderComplete,a.currentView.element)}function v(a,b){if(b=t(b)?b:!1){var c=a.currentView.element.id;if(a.useLocalStorageForData&&A.localStorage){if(a.useLocalStorageForData&&
A.localStorage){for(var d=A.localStorage.length,e=[],f=0;f<d;f++)ya(A.localStorage.key(f),"HJS_"+c)&&e.push(A.localStorage.key(f));d=e.length;for(f=0;f<d;f++)A.localStorage.removeItem(e[f])}e=X.stringify(h[c].type);A.localStorage.setItem("HJS_"+c,e)}}t(a.currentView.mapContents)&&(a.currentView.mapContentsScrollLeft=a.currentView.mapContents.scrollLeft);a.views.chart.enabled&&t(a.currentView.chartContents)&&(a.currentView.chartContentsScrollLeft=a.currentView.chartContents.scrollLeft);a.views.statistics.enabled&&
t(a.currentView.statisticsContents)&&(a.currentView.statisticsContentsScrollLeft=a.currentView.statisticsContents.scrollLeft);a.currentView.element.innerHTML=r.empty;Ga(a);Ha(a);a.currentView.mapContents=n(a.currentView.element,"div","map-contents");ha(a.currentView.mapContents,a);d=n(a.currentView.mapContents,"div","map");c=a.currentView.year;e=!1;a.views.chart.enabled&&(a.currentView.chartContents=n(a.currentView.element,"div","chart-contents"),ha(a.currentView.chartContents,a));a.views.statistics.enabled&&
(a.currentView.statisticsContents=n(a.currentView.element,"div","statistics-contents"),ha(a.currentView.statisticsContents,a));Ia(a);if(a.views.map.showDayNames){f=n(d,"div","days");if(!a.views.map.showMonthNames||a.views.map.placeMonthNamesOnTheBottom)f.className="days-months-bottom";for(var k=0;7>k;k++)a.views.map.daysToShow.indexOf(k+1)>I.notFound&&q(f,"div","day-name",g.dayNames[k]);a.views.map.showDaysInReverseOrder&&za(f)}d=n(d,"div","months");f=Y(a);for(k=0;12>k;k++)if(Z(a.views.map.monthsToShow,
k)){var l=n(d,"div","month");a.views.map.showMonthNames&&!a.views.map.placeMonthNamesOnTheBottom&&q(l,"div","month-name",g.monthNames[k]);var m=n(l,"div","day-columns");var y=T(c,k),u=n(m,"div","day-column"),C=!1,D=ia(new Date(c,k,1)),F=1;y+=D;for(var G=0;G<y;G++){G>=D?C=!0:a.views.map.daysToShow.indexOf(F)>I.notFound&&n(u,"div","day-disabled");if(C){var K=null;a.views.map.daysToShow.indexOf(F)>I.notFound&&(K=Ja(a,u,G-D,k,c,f));if(0===(G+1)%7&&(a.views.map.showDaysInReverseOrder&&za(u),u=n(m,"div",
"day-column"),F=0,!t(U)&&t(K))){var ba=aa(K,"margin-left",!0),Ka=aa(K,"margin-right",!0);U=K.offsetWidth+ba+Ka}}F++}a.views.map.showMonthNames&&a.views.map.placeMonthNamesOnTheBottom&&q(l,"div","month-name-bottom",g.monthNames[k]);e&&t(U)&&(0<D&&!a.views.map.showMonthDayGaps?l.style.marginLeft=-U+"px":0===D&&a.views.map.showMonthDayGaps&&(l.style.marginLeft=U+"px"));e=!0}a.keepScrollPositions&&(a.currentView.mapContents.scrollLeft=a.currentView.mapContentsScrollLeft);if(a.views.chart.enabled){k=n(a.currentView.chartContents,
"div","chart");l=n(k,"div","y-labels");c=n(k,"div","day-lines");e=Y(a);d=0;f=P(a);for(m=0;12>m;m++)for(y=T(a.currentView.year,m),u=0;u<y;u++)C=Q(new Date(a.currentView.year,m,u+1)),f.hasOwnProperty(C)&&(d=J.max(d,parseInt(f[C])));m=d;f=a.currentView.year;d=0;0<m&&a.views.chart.showChartYLabels?(d=q(l,"div","label-0",m.toString()),q(l,"div","label-25",(3*J.floor(m/4)).toString()),q(l,"div","label-50",J.floor(m/2).toString()),q(l,"div","label-75",J.floor(m/4).toString()),q(l,"div","label-100","0"),
l.style.width=d.offsetWidth+"px",d=l.offsetWidth+aa(l,"margin-right",!0)):l.parentNode.removeChild(l);if(0===m)a.currentView.chartContents.style.minHeight=a.currentView.mapContents.offsetHeight+"px",k.parentNode.removeChild(k),q(a.currentView.chartContents,"div","no-data-message",g.noChartDataMessage);else{l=a.currentView.mapContents.offsetHeight/m;for(y=m=k=0;12>y;y++)if(Z(a.views.chart.monthsToShow,y))for(u=T(f,y),C=1,k++,D=0;D<u;D++)a.views.chart.daysToShow.indexOf(C)>I.notFound&&La(c,a,D+1,y,
f,e,l),0===(D+1)%7&&(C=0),C++,m++;if(a.views.chart.showMonthNames){e=n(a.currentView.chartContents,"div","chart-months");f=c.offsetWidth/k;for(l=k=0;12>l;l++)Z(a.views.chart.monthsToShow,l)&&(q(e,"div","month-name",g.monthNames[l]).style.left=d+f*k+"px",k++);e.style.width=c.offsetWidth+"px";c=n(e,"div","month-name-space");c.style.height=e.offsetHeight+"px";c.style.width=d+"px"}a.keepScrollPositions&&(a.currentView.chartContents.scrollLeft=a.currentView.chartContentsScrollLeft)}a.currentView.chartContents.style.display=
"none"}if(a.views.statistics.enabled){k=n(a.currentView.statisticsContents,"div","statistics");c=n(a.currentView.statisticsContents,"div","statistics-ranges");l=n(k,"div","y-labels");e=n(k,"div","range-lines");d=Y(a);f={};m=0;y=P(a);for(u=f["0"]=0;12>u;u++)for(C=T(a.currentView.year,u),D=0;D<C;D++)F=Q(new Date(a.currentView.year,u,D+1)),y.hasOwnProperty(F)&&(G=F.split(r.dash),G=new Date(G[2],G[1],G[0]),K=ia(G),Z(a.views.statistics.monthsToShow,G.getMonth())&&a.views.statistics.daysToShow.indexOf(K)>
I.notFound&&(F=ja(d,y[F]),t(F)?(f.hasOwnProperty(F.minimum.toString())||(f[F.minimum.toString()]=0),f[F.minimum]++,m=J.max(m,f[F.minimum])):f["0"]++));0<m&&a.views.statistics.showChartYLabels?(y=q(l,"div","label-0",m.toString()),q(l,"div","label-25",(3*J.floor(m/4)).toString()),q(l,"div","label-50",J.floor(m/2).toString()),q(l,"div","label-75",J.floor(m/4).toString()),q(l,"div","label-100","0"),l.style.width=y.offsetWidth+"px",c.style.paddingLeft=l.offsetWidth+aa(l,"margin-right",!0)+"px"):l.parentNode.removeChild(l);
if(0===m)a.currentView.statisticsContents.style.minHeight=a.currentView.mapContents.offsetHeight+"px",k.parentNode.removeChild(k),c.parentNode.removeChild(c),q(a.currentView.statisticsContents,"div","no-statistics-message",g.noStatisticsDataMessage);else{k=a.currentView.mapContents.offsetHeight/m;a.views.statistics.showColorRangeLabels||c.parentNode.removeChild(c);for(var ca in f)if(f.hasOwnProperty(ca)){C=ca;l=f[ca];m=a;D=d;y=k;u=n(e,"div","range-line no-hover");F=D.length;G=null;for(K=0;K<F;K++)if(ba=
D[K],C.toString()===ba.minimum.toString()){G=ba;break}C=G;u.style.height=l*y+"px";S(u,m,l.toString());t(C)&&da(m,C.id)&&(z(C.statisticsCssClassName)?B(u,C.statisticsCssClassName):B(u,C.cssClassName));a.views.statistics.showColorRangeLabels&&q(c,"div","range-name",ca+"+")}a.keepScrollPositions&&(a.currentView.statisticsContents.scrollLeft=a.currentView.statisticsContentsScrollLeft)}a.currentView.statisticsContents.style.display="none"}a.currentView.mapContents.style.display="none";1===a.currentView.view?
a.currentView.mapContents.style.display="block":a.views.chart.enabled&&2===a.currentView.view?a.currentView.chartContents.style.display="block":a.views.statistics.enabled&&3===a.currentView.view?a.currentView.statisticsContents.style.display="block":a.currentView.chartContents.style.display="block"}function xa(a,b,c){c=t(c)?c:!0;h[a]={options:b,type:{},types:1};h[a].type[g.unknownTrendText]={};if(c&&b.useLocalStorageForData&&A.localStorage)for(b=A.localStorage.length,c=0;c<b;c++){var d=A.localStorage.key(c);
if(ya(d,"HJS_")&&(d=A.localStorage.getItem(d),d=fa(d),d.parsed)){h[a].type=d.result;h[a].types=0;for(var e in h[a].type)h[a].type.hasOwnProperty(e)&&h[a].types++}}}function P(a){return h[a.currentView.element.id].type[a.currentView.type]}function Z(a,b){return a.indexOf(b+1)>I.notFound}function Ga(a){t(a.currentView.tooltip)||(a.currentView.tooltip=n(H.body,"div","heat-js-tooltip"),a.currentView.tooltip.style.display="none",H.body.addEventListener("mousemove",function(){ka(a)}),H.addEventListener("scroll",
function(){ka(a)}))}function S(a,b,c){null!==a&&(a.onmousemove=function(d){Ma(d,b,c)})}function Ma(a,b,c){V(a);ka(b);b.currentView.tooltipTimer=setTimeout(function(){b.currentView.tooltip.innerHTML=c;b.currentView.tooltip.style.display="block";var d=b.currentView.tooltip,e=a.pageX,f=a.pageY;var k=H.documentElement;var l=(A.pageXOffset||k.scrollLeft)-(k.clientLeft||0);k=(A.pageYOffset||k.scrollTop)-(k.clientTop||0);d.style.display="block";e+d.offsetWidth>A.innerWidth?e-=d.offsetWidth:e++;f+d.offsetHeight>
A.innerHeight?f-=d.offsetHeight:f++;e<l&&(e=a.pageX+1);f<k&&(f=a.pageY+1);d.style.left=e+"px";d.style.top=f+"px"},b.tooltipDelay)}function ka(a){t(a.currentView.tooltip)&&(t(a.currentView.tooltipTimer)&&(clearTimeout(a.currentView.tooltipTimer),a.currentView.tooltipTimer=null),"block"===a.currentView.tooltip.style.display&&(a.currentView.tooltip.style.display="none"))}function Ha(a){if(a.showTitle||a.showYearSelector||a.showRefreshButton||a.showExportButton){var b=n(a.currentView.element,"div","title-bar"),
c=n(b,"div","title");a.views.chart.enabled||a.views.statistics.enabled?n(c,"div","down-arrow"):B(c,"no-click");a.showTitle&&(c.innerHTML+=a.titleText);if(a.views.chart.enabled||a.views.statistics.enabled){c=n(c,"div","titles-list");c=n(c,"div","titles");var d=q(c,"div","title",g.mapText);la(a,d,1,"map");a.views.chart.enabled&&(d=q(c,"div","title",g.chartText),la(a,d,2,"chart"));a.views.statistics.enabled&&(c=q(c,"div","title",g.statisticsText),la(a,c,3,"statistics"))}a.showExportButton&&(q(b,"button",
"export",g.exportButtonText).onclick=function(){Aa(a)});a.showRefreshButton&&(q(b,"button","refresh",g.refreshButtonText).onclick=function(){v(a);p(a.onRefresh,a.currentView.element)});if(a.showYearSelector){q(b,"button","back",g.backButtonText).onclick=function(){for(a.currentView.year--;a.yearsToHide.indexOf(a.currentView.year)>I.notFound;)a.currentView.year--;v(a);p(a.onBackYear,a.currentView.year)};a.currentView.yearText=q(b,"div","year-text",a.currentView.year);if(a.showYearSelectionDropDown){n(a.currentView.yearText,
"div","down-arrow");c=n(a.currentView.yearText,"div","years-list");d=n(c,"div","years");var e=(new Date).getFullYear(),f=null;c.style.display="block";c.style.visibility="hidden";for(var k=e-a.extraSelectionYears;k<e+a.extraSelectionYears;k++)if(a.yearsToHide.indexOf(k)===I.notFound){var l=Na(a,d,k);t(f)||(f=l)}t(f)&&(d.scrollTop=f.offsetTop-d.offsetHeight/2);c.style.display="none";c.style.visibility="visible"}else B(a.currentView.yearText,"no-click");q(b,"button","next",g.nextButtonText).onclick=
function(){for(a.currentView.year++;a.yearsToHide.indexOf(a.currentView.year)>I.notFound;)a.currentView.year++;v(a);p(a.onNextYear,a.currentView.year)}}}}function la(a,b,c,d){a.currentView.view===c?B(b,"title-active"):b.onclick=function(){a.currentView.view=c;p(a.onViewSwitch,d);v(a)}}function Na(a,b,c){var d=null;b=q(b,"div","year",c);a.currentView.year!==c?b.onclick=function(){a.currentView.year=c;v(a);p(a.onSetYear,a.currentView.year)}:(B(b,"year-active"),d=b);return d}function Ja(a,b,c,d,e,f){c+=
1;b=n(b,"div","day");var k=new Date(e,d,c),l=h[a.currentView.element.id].type[a.currentView.type][Q(k)];l=W(l)?l:0;R(a.onDayToolTipRender)?S(b,a,p(a.onDayToolTipRender,k,l)):S(b,a,Ba(a.dayToolTipText,k));a.views.map.showDayNumbers&&0<l&&(b.innerHTML=l.toString());R(a.onDayClick)?b.onclick=function(){p(a.onDayClick,k,l)}:B(b,"no-hover");d=ja(f,l);t(d)&&da(a,d.id)&&(z(d.mapCssClassName)?B(b,d.mapCssClassName):B(b,d.cssClassName));return b}function La(a,b,c,d,e,f,k){var l=new Date(e,d,c);a=n(a,"div",
"day-line");var m=P(b)[Q(l)];m=W(m)?m:0;R(b.onDayToolTipRender)?S(a,b,p(b.onDayToolTipRender,l,m)):S(a,b,Ba(b.dayToolTipText,l));a.style.height=m*k+"px";R(b.onDayClick)?a.onclick=function(){p(b.onDayClick,l,m)}:B(a,"no-hover");f=ja(f,m);t(f)&&da(b,f.id)&&(z(f.chartCssClassName)?B(a,f.chartCssClassName):B(a,f.cssClassName))}function Ia(a){var b=n(a.currentView.element,"div","guide"),c=n(b,"div","map-types"),d=0;for(e in h[a.currentView.element.id].type[g.unknownTrendText])if(h[a.currentView.element.id].type[g.unknownTrendText].hasOwnProperty(e)){d++;
break}if(1<h[a.currentView.element.id].types){if(z(a.descriptionText)){var e=n(b,"div","description");b.parentNode.insertBefore(e,b);Ca(a,e)}for(var f in h[a.currentView.element.id].type)if(f!==g.unknownTrendText||0<d)0===d&&a.currentView.type===g.unknownTrendText&&(a.currentView.type=f),Oa(a,c,f)}else Ca(a,c);if(a.showGuide){b=n(b,"div","map-toggles");a.showLessAndMoreLabels&&(c=q(b,"div","less-text",g.lessText),a.mapTogglesEnabled?c.onclick=function(){Da(a,!1)}:B(c,"no-click"));c=n(b,"div","days");
d=Y(a);f=d.length;for(e=0;e<f;e++)Pa(a,c,d[e]);a.showLessAndMoreLabels&&(b=q(b,"div","more-text",g.moreText),a.mapTogglesEnabled?b.onclick=function(){Da(a,!0)}:B(b,"no-click"))}}function Oa(a,b,c){b=q(b,"button","type",c);a.currentView.type===c&&B(b,"active");b.onclick=function(){a.currentView.type!==c&&(a.currentView.type=c,p(a.onTypeSwitch,c),v(a))}}function Pa(a,b,c){b=n(b,"div");b.className="day";S(b,a,c.tooltipText);da(a,c.id)&&(1===a.currentView.view&&z(c.mapCssClassName)?B(b,c.mapCssClassName):
a.views.chart.enabled&&2===a.currentView.view&&z(c.chartCssClassName)?B(b,c.chartCssClassName):a.views.statistics.enabled&&3===a.currentView.view&&z(c.statisticsCssClassName)?B(b,c.statisticsCssClassName):B(b,c.cssClassName));a.mapTogglesEnabled?b.onclick=function(){for(var d=c.id,e=a.colorRanges.length,f=0;f<e;f++){var k=a.colorRanges[f];if(k.id===d){k.visible=!(M(k.visible)&&k.visible);p(a.onColorRangeTypeToggle,k.id,k.visible);v(a);break}}}:B(b,"no-hover")}function Ca(a,b){z(a.descriptionText)&&
(z(a.descriptionTextLink)?q(b,"a","label",a.descriptionText).href=a.descriptionTextLink:q(b,"span","label",a.descriptionText))}function da(a,b){for(var c=!1,d=a.colorRanges.length,e=0;e<d;e++){var f=a.colorRanges[e];if(f.id===b&&(!M(f.visible)||f.visible)){c=!0;break}}return c}function Da(a,b){for(var c=a.colorRanges.length,d=0;d<c;d++)a.colorRanges[d].visible=b,p(a.onColorRangeTypeToggle,a.colorRanges[d].id,b);v(a)}function ja(a,b){for(var c=a.length,d=null,e=0;e<c;e++){var f=a[e];if(b>=f.minimum)d=
f;else break}return d}function Y(a){return a.colorRanges.sort(function(b,c){return b.minimum-c.minimum})}function ha(a,b){b.allowFileImports&&(a.ondragover=V,a.ondragenter=V,a.ondragleave=V,a.ondrop=function(c){V(c);t(A.FileReader)&&0<c.dataTransfer.files.length&&Qa(c.dataTransfer.files,b)})}function Qa(a,b){for(var c=a.length,d=[],e=P(b),f=function(m,y){d.push(m);for(var u in y)y.hasOwnProperty(u)&&(e.hasOwnProperty(u)||(e[u]=0),e[u]+=y[u]);d.length===c&&(p(b.onImport,b.currentView.element),v(b))},
k=0;k<c;k++){var l=a[k];"json"===l.name.split(".").pop().toLowerCase()&&Ra(l,f)}}function Ra(a,b){var c=new FileReader,d=null;c.readAsText(a);c.onloadend=function(){b(a.name,d)};c.onload=function(e){e=fa(e.target.result);e.parsed&&L(e.result)&&(d=e.result)}}function Aa(a){var b=null;var c=null;"csv"===a.exportType.toLowerCase()?c="text/csv":"json"===a.exportType.toLowerCase()?c="application/json":"xml"===a.exportType.toLowerCase()&&(c="application/xml");if("csv"===a.exportType.toLowerCase()){var d=
ma(a);b=[];for(var e in d)d.hasOwnProperty(e)&&b.push([ea(e),ea(d[e])].join());0<b.length&&b.unshift([ea(g.dateText),ea(g.countText)].join());b=b.join(r.newLine)}else if("json"===a.exportType.toLowerCase())b=X.stringify(ma(a));else if("xml"===a.exportType.toLowerCase()){e=ma(a);b=[];b.push('<?xml version="1.0" ?>');b.push("<Dates>");for(d in e)e.hasOwnProperty(d)&&(b.push("<Date>"),b.push("<FullDate>"+d+"</FullDate>"),b.push("<Count>"+e[d]+"</Count>"),b.push("</Date>"));b.push("</Dates>");b=b.join(r.newLine)}if(b!==
r.empty){e=n(H.body,"a");e.style.display="none";e.setAttribute("target","_blank");e.setAttribute("href","data:"+c+";charset=utf-8,"+encodeURIComponent(b));c=e.setAttribute;b=new Date;d=N(b.getDate())+r.dash+N(b.getMonth()+1)+r.dash+b.getFullYear();b=N(b.getHours())+r.dash+N(b.getMinutes());var f=r.empty;a.currentView.type!==g.unknownTrendText&&(f=a.currentView.type.toLowerCase().replace(r.space,r.underscore)+r.underscore);d=f+d+r.underscore+b+"."+a.exportType.toLowerCase();c.call(e,"download",d);
e.click();H.body.removeChild(e);p(a.onExport,a.currentView.element)}}function ma(a){var b={},c=P(a);if(a.exportOnlyYearBeingViewed)for(var d=0;12>d;d++)for(var e=T(a.currentView.year,d),f=0;f<e;f++){var k=Q(new Date(a.currentView.year,d,f+1));c.hasOwnProperty(k)&&(b[k]=c[k])}else{a=[];for(d in c)c.hasOwnProperty(d)&&a.push(d);a.sort();d=a.length;for(e=0;e<d;e++)f=a[e],c.hasOwnProperty(f)&&(b[f]=c[f])}return b}function ea(a){a=a.toString().replace(/(\r\n|\n|\r)/gm,r.empty).replace(/(\s\s)/gm,r.space);
a=a.replace(/"/g,'""');return'"'+a+'"'}function va(a){a=L(a)?a:{};a.views=L(a.views)?a.views:{};a.showGuide=w(a.showGuide,!0);a.showTitle=w(a.showTitle,!0);a.showYearSelector=w(a.showYearSelector,!0);a.showRefreshButton=w(a.showRefreshButton,!1);a.showExportButton=w(a.showExportButton,!1);a.mapTogglesEnabled=w(a.mapTogglesEnabled,!0);a.exportOnlyYearBeingViewed=w(a.exportOnlyYearBeingViewed,!0);a.year=na(a.year,(new Date).getFullYear());a.keepScrollPositions=w(a.keepScrollPositions,!1);a.extraSelectionYears=
na(a.extraSelectionYears,50);a.showYearSelectionDropDown=w(a.showYearSelectionDropDown,!0);a.view=x(a.view,"map");a.tooltipDelay=na(a.tooltipDelay,750);a.exportType=x(a.exportType,"csv");a.descriptionText=x(a.descriptionText,null);a.descriptionTextLink=x(a.descriptionTextLink,null);a.useLocalStorageForData=w(a.useLocalStorageForData,!1);a.allowFileImports=w(a.allowFileImports,!0);a.yearsToHide=oa(a.yearsToHide,[]);a.showLessAndMoreLabels=w(a.showLessAndMoreLabels,!0);a.views.map=L(a.views.map)?a.views.map:
{};a.views.map.showMonthDayGaps=w(a.views.map.showMonthDayGaps,!0);a.views.map.showDayNames=w(a.views.map.showDayNames,!0);a.views.map.placeMonthNamesOnTheBottom=w(a.views.map.placeMonthNamesOnTheBottom,!1);a.views.map.showDayNumbers=w(a.views.map.showDayNumbers,!1);a.views.map.showMonthNames=w(a.views.map.showMonthNames,!0);a.views.map.showDaysInReverseOrder=w(a.views.map.showDaysInReverseOrder,!1);O(a.views.map.monthsToShow)&&(a.views.map.monthsToShow=pa);O(a.views.map.daysToShow)&&(a.views.map.daysToShow=
qa);a.views.chart=L(a.views.chart)?a.views.chart:{};a.views.chart.enabled=w(a.views.chart.enabled,!0);a.views.chart.showChartYLabels=w(a.views.chart.showChartYLabels,!0);a.views.chart.showMonthNames=w(a.views.chart.showMonthNames,!0);O(a.views.chart.monthsToShow)&&(a.views.chart.monthsToShow=pa);O(a.views.chart.daysToShow)&&(a.views.chart.daysToShow=qa);a.views.statistics=L(a.views.statistics)?a.views.statistics:{};a.views.statistics.enabled=w(a.views.statistics.enabled,!0);a.views.statistics.showChartYLabels=
w(a.views.statistics.showChartYLabels,!0);a.views.statistics.showColorRangeLabels=w(a.views.statistics.showColorRangeLabels,!0);O(a.views.statistics.monthsToShow)&&(a.views.statistics.monthsToShow=pa);O(a.views.statistics.daysToShow)&&(a.views.statistics.daysToShow=qa);a.colorRanges=oa(a.colorRanges,[{minimum:10,cssClassName:"day-color-1",mapCssClassName:"day-color-1",chartCssClassName:"day-color-1",statisticsCssClassName:"day-color-1",tooltipText:"Day Color 1",visible:!0},{minimum:15,cssClassName:"day-color-2",
mapCssClassName:"day-color-2",chartCssClassName:"day-color-2",statisticsCssClassName:"day-color-2",tooltipText:"Day Color 2",visible:!0},{minimum:20,cssClassName:"day-color-3",mapCssClassName:"day-color-3",chartCssClassName:"day-color-3",statisticsCssClassName:"day-color-3",tooltipText:"Day Color 3",visible:!0},{minimum:25,cssClassName:"day-color-4",mapCssClassName:"day-color-4",chartCssClassName:"day-color-4",statisticsCssClassName:"day-color-4",tooltipText:"Day Color 4",visible:!0}]);for(var b=
a.colorRanges.length,c=0;c<b;c++)z(a.colorRanges[c].id)||(a.colorRanges[c].id=wa());a.titleText=x(a.titleText,"Heat.js");a.dayToolTipText=x(a.dayToolTipText,"{d}{o} {mmmm} {yyyy}");a.onDayClick=E(a.onDayClick,null);a.onBackYear=E(a.onBackYear,null);a.onNextYear=E(a.onNextYear,null);a.onRefresh=E(a.onRefresh,null);a.onBeforeRender=E(a.onBeforeRender,null);a.onRenderComplete=E(a.onRenderComplete,null);a.onDestroy=E(a.onDestroy,null);a.onExport=E(a.onExport,null);a.onSetYear=E(a.onSetYear,null);a.onTypeSwitch=
E(a.onTypeSwitch,null);a.onDayToolTipRender=E(a.onDayToolTipRender,null);a.onAdd=E(a.onAdd,null);a.onRemove=E(a.onRemove,null);a.onReset=E(a.onReset,null);a.onViewSwitch=E(a.onViewSwitch,null);a.onColorRangeTypeToggle=E(a.onColorRangeTypeToggle,null);a.onImport=E(a.onImport,null);return a}function T(a,b){return(new Date(a,b+1,0)).getDate()}function ia(a){return 0>a.getDay()-1?6:a.getDay()-1}function Ba(a,b){var c=a,d=ia(b);c=c.replace("{dddd}",g.dayNames[d]);c=c.replace("{dd}",N(b.getDate()));c=c.replace("{d}",
b.getDate());d=c.replace;var e=b.getDate(),f=g.thText;if(31===e||21===e||1===e)f=g.stText;else if(22===e||2===e)f=g.ndText;else if(23===e||3===e)f=g.rdText;c=d.call(c,"{o}",f);c=c.replace("{mmmm}",g.monthNames[b.getMonth()]);c=c.replace("{mm}",N(b.getMonth()+1));c=c.replace("{m}",b.getMonth()+1);c=c.replace("{yyyy}",b.getFullYear());c=c.replace("{yyy}",b.getFullYear().toString().substring(1));c=c.replace("{yy}",b.getFullYear().toString().substring(2));return c=c.replace("{y}",parseInt(b.getFullYear().toString().substring(2)).toString())}
function t(a){return null!==a&&void 0!==a&&a!==r.empty}function L(a){return t(a)&&"object"===typeof a}function M(a){return t(a)&&"boolean"===typeof a}function z(a){return t(a)&&"string"===typeof a}function R(a){return t(a)&&"function"===typeof a}function W(a){return t(a)&&"number"===typeof a}function Ea(a){return L(a)&&a instanceof Array}function n(a,b,c){b=b.toLowerCase();var d="text"===b;ra.hasOwnProperty(b)||(ra[b]=d?H.createTextNode(r.empty):H.createElement(b));b=ra[b].cloneNode(!1);t(c)&&(b.className=
c);a.appendChild(b);return b}function q(a,b,c,d){a=n(a,b,c);a.innerHTML=d;return a}function aa(a,b,c){var d=null;c=t(c)?c:!1;A.getComputedStyle?d=H.defaultView.getComputedStyle(a,null).getPropertyValue(b):a.currentStyle&&(d=a.currentStyle[b]);c&&(d=parseFloat(d,10));return d}function B(a,b){a.className+=r.space+b}function V(a){a.preventDefault();a.cancelBubble=!0}function za(a){for(var b=a.children,c=b.length-1;c--;)a.appendChild(b[c])}function p(a){var b=null;R(a)&&(b=a.apply(null,[].slice.call(arguments,
1)));return b}function x(a,b){return z(a)?a:b}function w(a,b){return M(a)?a:b}function E(a,b){return R(a)?a:b}function oa(a,b){return Ea(a)?a:b}function na(a,b){return W(a)?a:b}function fa(a){var b=!0,c=null;try{z(a)&&(c=X.parse(a))}catch(d){try{c=eval("("+a+")"),R(c)&&(c=c())}catch(e){g.safeMode||(console.error("Errors in object: "+d.message+", "+e.message),b=!1),c=null}}return{parsed:b,result:c}}function wa(){for(var a=[],b=0;32>b;b++){8!==b&&12!==b&&16!==b&&20!==b||a.push(r.dash);var c=J.floor(16*
J.random()).toString(16);a.push(c)}return a.join(r.empty)}function N(a){a=a.toString();return 1===a.length?"0"+a:a}function ya(a,b){return a.substring(0,b.length).toLowerCase()===b.toLowerCase()}function Q(a){return a.getFullYear()+r.dash+N(a.getMonth()+1)+r.dash+N(a.getDate())}function Fa(a){g=L(a)?a:{};g.safeMode=w(g.safeMode,!0);a=g;var b=g.domElementTypes,c=["*"];z(b)?(b=b.split(r.space),0===b.length&&(b=c)):b=oa(b,c);a.domElementTypes=b;g.stText=x(g.stText,"st");g.ndText=x(g.ndText,"nd");g.rdText=
x(g.rdText,"rd");g.thText=x(g.thText,"th");g.backButtonText=x(g.backButtonText,"Back");g.nextButtonText=x(g.nextButtonText,"Next");g.refreshButtonText=x(g.refreshButtonText,"Refresh");g.exportButtonText=x(g.exportButtonText,"Export");g.lessText=x(g.lessText,"Less");g.moreText=x(g.moreText,"More");g.dateText=x(g.dateText,"Date");g.countText=x(g.countText,"Count");g.mapText=x(g.mapText,"Map");g.chartText=x(g.chartText,"Chart");g.noChartDataMessage=x(g.noChartDataMessage,"There is currently no data to view.");
g.statisticsText=x(g.statisticsText,"Statistics");g.noStatisticsDataMessage=x(g.noStatisticsDataMessage,"There are currently no statistics to view.");g.unknownTrendText=x(g.unknownTrendText,"Unknown");O(g.monthNames,12)&&(g.monthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));O(g.dayNames,7)&&(g.dayNames="Mon Tue Wed Thu Fri Sat Sun".split(" "))}function O(a,b){b=W(b)?b:1;return!Ea(a)||a.length<b}var H=null,A=null,J=null,X=null,g={},r={empty:"",space:" ",newLine:"\n",dash:"-",
underscore:"_"},I={notFound:-1},pa=[1,2,3,4,5,6,7,8,9,10,11,12],qa=[1,2,3,4,5,6,7],ra={},U=null,h={};this.addDates=function(a,b,c,d){if(h.hasOwnProperty(a)){d=M(d)?d:!0;c=z(c)?c:g.unknownTrendText;for(var e=b.length,f=0;f<e;f++)this.addDate(a,b[f],c,!1);d&&v(h[a].options,!0)}return this};this.addDate=function(a,b,c,d){h.hasOwnProperty(a)&&(d=M(d)?d:!0,c=z(c)?c:g.unknownTrendText,b=Q(b),h[a].type.hasOwnProperty(c)||(h[a].type[c]={},h[a].types++),h[a].type[c].hasOwnProperty(b)||(h[a].type[c][b]=0),
h[a].type[c][b]++,a=h[a].options,p(a.onAdd,a.currentView.element),d&&v(a,!0));return this};this.removeDates=function(a,b,c,d){if(h.hasOwnProperty(a)){c=z(c)?c:g.unknownTrendText;d=M(d)?d:!0;for(var e=b.length,f=0;f<e;f++)this.removeDate(a,b[f],c,!1);d&&v(h[a].options,!0)}return this};this.removeDate=function(a,b,c,d){h.hasOwnProperty(a)&&(c=z(c)?c:g.unknownTrendText,b=Q(b),h[a].type.hasOwnProperty(c)&&h[a].type[c].hasOwnProperty(b)&&(d=M(d)?d:!0,0<h[a].type[c][b]&&h[a].type[c][b]--,a=h[a].options,
p(a.onRemove,a.currentView.element),d&&v(a,!0)));return this};this.resetAll=function(a){for(var b in h)h.hasOwnProperty(b)&&this.reset(b,a);return this};this.reset=function(a,b){if(h.hasOwnProperty(a)){b=M(b)?b:!0;var c=h[a].options;c.currentView.type=g.unknownTrendText;xa(a,c,!1);p(c.onReset,c.currentView.element);b&&v(c,!0)}return this};this["export"]=function(a){h.hasOwnProperty(a)&&Aa(h[a].options);return this};this.refresh=function(a){h.hasOwnProperty(a)&&(a=h[a].options,v(a,!0),p(a.onRefresh,
a.currentView.element));return this};this.refreshAll=function(){for(var a in h)if(h.hasOwnProperty(a)){var b=h[a].options;v(b,!0);p(b.onRefresh,b.currentView.element)}return this};this.setYear=function(a,b){if(h.hasOwnProperty(a)){var c=h[a].options;c.yearsToHide.indexOf(b)===I.notFound&&(c.currentView.year=b,v(c),p(c.onSetYear,c.currentView.year))}return this};this.setYearToHighest=function(a){if(h.hasOwnProperty(a)){a=h[a].options;var b=P(a),c=0,d;for(d in b)b.hasOwnProperty(d)&&(c=J.max(c,parseInt(d.split(r.dash)[0])));
0<c&&a.yearsToHide.indexOf(c)===I.notFound&&(a.currentView.year=c,v(a),p(a.onSetYear,a.currentView.year))}return this};this.setYearToLowest=function(a){if(h.hasOwnProperty(a)){a=h[a].options;var b=P(a),c=9999,d;for(d in b)b.hasOwnProperty(d)&&(c=J.min(c,parseInt(d.split(r.dash)[0])));9999>c&&a.yearsToHide.indexOf(c)===I.notFound&&(a.currentView.year=c,v(a),p(a.onSetYear,a.currentView.year))}return this};this.moveToPreviousYear=function(a){if(h.hasOwnProperty(a)){a=h[a].options;for(a.currentView.year--;a.yearsToHide.indexOf(a.currentView.year)>
I.notFound;)a.currentView.year--;v(a);p(a.onBackYear,a.currentView.year)}return this};this.moveToNextYear=function(a){if(h.hasOwnProperty(a)){a=h[a].options;for(a.currentView.year++;a.yearsToHide.indexOf(a.currentView.year)>I.notFound;)a.currentView.year++;v(a);p(a.onNextYear,a.currentView.year)}return this};this.moveToCurrentYear=function(a){h.hasOwnProperty(a)&&(a=h[a].options,a.currentView.year=(new Date).getFullYear(),v(a),p(a.onSetYear,a.currentView.year));return this};this.getYear=function(a){var b=
null;h.hasOwnProperty(a)&&(b=h[a].options.currentView.year);return b};this.render=function(a,b){ta(ua(b,a));return this};this.renderAll=function(){sa();return this};this.switchView=function(a,b){if(h.hasOwnProperty(a)){var c=h[a].options,d=null;"map"===b.toLowerCase()?d=1:"chart"===b.toLowerCase()?d=2:"statistics"===b.toLowerCase()&&(d=3);W(d)&&(c.currentView.view=d,p(c.onViewSwitch,b),v(c))}return this};this.switchType=function(a,b){if(h.hasOwnProperty(a)&&h[a].type.hasOwnProperty(b)){var c=h[a].options;
c.currentView.type!==b&&(c.currentView.type=b,p(c.onTypeSwitch,b),v(c))}return this};this.updateOptions=function(a,b){if(h.hasOwnProperty(a)&&L(b)){var c=h[a].options,d=va(b),e;for(e in d)d.hasOwnProperty(e)&&c.hasOwnProperty(e)&&(c[e]=d[e]);v(c,!0);p(c.onRefresh,c.currentView.element)}return this};this.destroyAll=function(){for(var a in h)if(h.hasOwnProperty(a)){var b=h[a].options;b.currentView.element.innerHTML=r.empty;b.currentView.element.className=r.empty;H.body.removeChild(b.currentView.tooltip);
p(b.onDestroy,b.currentView.element)}h={};return this};this.destroy=function(a){if(h.hasOwnProperty(a)){var b=h[a].options;b.currentView.element.innerHTML=r.empty;b.currentView.element.className=r.empty;H.body.removeChild(b.currentView.tooltip);p(b.onDestroy,b.currentView.element);delete h[a]}return this};this.setConfiguration=function(a,b){b=t(b)?b:!0;for(var c in a)a.hasOwnProperty(c)&&(g[c]=a[c]);Fa(g);b&&this.refreshAll();return this};this.getIds=function(){var a=[],b;for(b in h)h.hasOwnProperty(b)&&
a.push(b);return a};this.getVersion=function(){return"2.2.0"};(function(a,b,c,d){H=a;A=b;J=c;X=d;Fa();H.addEventListener("DOMContentLoaded",function(){sa()});t(A.$heat)||(A.$heat=this)})(document,window,Math,JSON)})();