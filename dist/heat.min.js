/*! Heat.js v1.4.0 | (c) Bunoon 2024 | MIT License */
(function(){function S(){for(var a=e.domElementTypes,c=a.length,b=0;b<c;b++){var d=A.getElementsByTagName(a[b]);d=[].slice.call(d);for(var f=d.length,h=0;h<f;h++){var l=d[h],k=!0;if(t(l)&&l.hasAttribute("data-heat-options")){var m=l.getAttribute("data-heat-options");B(m)?(m=ca(m),m.parsed&&J(m.result)?T(U(m.result,l)):e.safeMode||(console.error("The attribute 'data-heat-options' is not a valid object."),k=!1)):e.safeMode||(console.error("The attribute 'data-heat-options' has not been set correctly."),
k=!1)}if(!k)break}}}function U(a,c){var b=J(a)?a:{};b.showDayNames=u(b.showDayNames,!0);b.showGuide=u(b.showGuide,!0);b.showTitle=u(b.showTitle,!0);b.showYearSelector=u(b.showYearSelector,!0);b.showMonthDayGaps=u(b.showMonthDayGaps,!0);b.showRefreshButton=u(b.showRefreshButton,!1);b.showMonthNames=u(b.showMonthNames,!0);b.showExportButton=u(b.showExportButton,!1);b.mapTogglesEnabled=u(b.mapTogglesEnabled,!0);b.placeMonthNamesOnTheBottom=u(b.placeMonthNamesOnTheBottom,!1);b.exportOnlyYearBeingViewed=
u(b.exportOnlyYearBeingViewed,!0);var d=b;var f=b.year;var h=(new Date).getFullYear();f=K(f)?f:h;d.year=f;b.showDayNumbers=u(b.showDayNumbers,!1);b.keepScrollPositions=u(b.keepScrollPositions,!1);d=b;f=b.extraSelectionYears;f=K(f)?f:50;d.extraSelectionYears=f;L(b.monthsToShow)&&(b.monthsToShow=[1,2,3,4,5,6,7,8,9,10,11,12]);L(b.daysToShow)&&(b.daysToShow=[1,2,3,4,5,6,7]);d=b.mapRangeColors;f=[{minimum:10,cssClassName:"day-color-1",tooltipText:"Day Color 1"},{minimum:15,cssClassName:"day-color-2",tooltipText:"Day Color 2"},
{minimum:20,cssClassName:"day-color-3",tooltipText:"Day Color 3"},{minimum:25,cssClassName:"day-color-4",tooltipText:"Day Color 4"}];d=P(d)?d:f;b.mapRangeColors=d;d=b.mapRangeColors.length;for(f=0;f<d;f++)B(b.mapRangeColors[f].id)||(b.mapRangeColors[f].id=V());b.titleText=v(b.titleText,"Heat.js");b.dayToolTipText=v(b.dayToolTipText,"{d}{o} {mmmm} {yyyy}");b.onDayClick=y(b.onDayClick,null);b.onBackYear=y(b.onBackYear,null);b.onNextYear=y(b.onNextYear,null);b.onRefresh=y(b.onRefresh,null);b.onBeforeRender=
y(b.onBeforeRender,null);b.onRenderComplete=y(b.onRenderComplete,null);b.onDestroy=y(b.onDestroy,null);b.onExport=y(b.onExport,null);b.onSetYear=y(b.onSetYear,null);b.onTypeSwitch=y(b.onTypeSwitch,null);b.onDayToolTipRender=y(b.onDayToolTipRender,null);b.currentView={};b.currentView.element=c;b.currentView.mapContents=null;b.currentView.mapContentsScrollLeft=0;b.currentView.colorsVisible={};b.currentView.year=b.year;b.currentView.type="None";return b}function T(a){q(a.onBeforeRender,a.currentView.element);
B(a.currentView.element.id)||(a.currentView.element.id=V());a.currentView.element.removeAttribute("data-heat-options");W(a.currentView.element.id,a);r(a);q(a.onRenderComplete,a.currentView.element)}function r(a){t(a.currentView.mapContents)&&(a.currentView.mapContentsScrollLeft=a.currentView.mapContents.scrollLeft);a.currentView.element.className="heat-js";a.currentView.element.innerHTML=n.empty;da(a);ea(a)}function da(a){if(a.showTitle||a.showYearSelector||a.showRefreshButton||a.showExportButton){var c=
p(a.currentView.element,"div","title-bar");a.showTitle&&x(c,"div","title",a.titleText);a.showExportButton&&(x(c,"button","export",e.exportButtonText).onclick=function(){var h=g[a.currentView.element.id].type[a.currentView.type];var l=[];var k=[];l.push([D(e.dateText),D(e.countText)].join());for(var m in h)h.hasOwnProperty(m)&&k.push(m);k.sort();if(a.exportOnlyYearBeingViewed)for(k=0;12>k;k++){m=(new Date(a.currentView.year,k+1,0)).getDate();for(var w=0;w<m;w++){var z=M(new Date(a.currentView.year,
k,w+1));h.hasOwnProperty(z)&&l.push([D(z),D(h[z])].join())}}else for(m=k.length,w=0;w<m;w++)z=k[w],h.hasOwnProperty(z)&&l.push([D(z),D(h[z])].join());l=l.join(n.newLine);l!==n.empty&&(h=p(A.body,"a"),h.style.display="none",h.setAttribute("target","_blank"),h.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(l)),l=h.setAttribute,m=new Date,k=C(m.getDate())+"-"+C(m.getMonth()+1)+"-"+m.getFullYear(),m=C(m.getHours())+"-"+C(m.getMinutes()),w=n.empty,"None"!==a.currentView.type&&(w=
a.currentView.type.toLowerCase().replace(n.space,"_")+"_"),l.call(h,"download",w+k+"_"+m+".csv"),h.click(),A.body.removeChild(h));q(a.onExport,a.currentView.element)});a.showRefreshButton&&(x(c,"button","refresh",e.refreshButtonText).onclick=function(){r(a);q(a.onRefresh,a.currentView.element)});if(a.showYearSelector){x(c,"button","back",e.backButtonText).onclick=function(){a.currentView.year--;r(a);q(a.onBackYear,a.currentView.year)};a.currentView.yearText=x(c,"div","year-text",a.currentView.year);
var b=p(a.currentView.yearText,"div","years-list");b=p(b,"div","years");c=x(c,"button","next",e.nextButtonText);for(var d=(new Date).getFullYear(),f=d-a.extraSelectionYears;f<d+a.extraSelectionYears;f++)fa(a,b,f);c.onclick=function(){a.currentView.year++;r(a);q(a.onNextYear,a.currentView.year)}}}}function fa(a,c,b){x(c,"div","year",b).onclick=function(){a.currentView.year=b;r(a);q(a.onNextYear,a.currentView.year)}}function ea(a){a.currentView.mapContents=p(a.currentView.element,"div","map-contents");
var c=p(a.currentView.mapContents,"div","map"),b=a.currentView.year,d=!1;ha(a);if(a.showDayNames){var f=p(c,"div","days");if(!a.showMonthNames||a.placeMonthNamesOnTheBottom)f.style.paddingTop="0px",f.style.marginTop=a.placeMonthNamesOnTheBottom?"-2px":"-5px";for(var h=0;7>h;h++)-1<a.daysToShow.indexOf(h+1)&&x(f,"div","day-name",e.dayNames[h])}c=p(c,"div","months");f=a.mapRangeColors.sort(function(ia,ja){return ja.range-ia.range});for(h=0;12>h;h++)if(-1<a.monthsToShow.indexOf(h+1)){var l=p(c,"div",
"month");a.showMonthNames&&!a.placeMonthNamesOnTheBottom&&x(l,"div","month-name",e.monthNames[h]);var k=p(l,"div","day-columns"),m=(new Date(b,h+1,0)).getDate(),w=p(k,"div","day-column"),z=!1,E=X(new Date(b,h,1)),Q=1;m+=E;for(var F=0;F<m;F++){F>=E?z=!0:p(w,"div","day-disabled");if(z){var G=null;-1<a.daysToShow.indexOf(Q)&&(G=ka(a,w,F-E,h,b,f));if(0===(F+1)%7&&(w=p(k,"div","day-column"),Q=0,!t(H)&&t(G))){var la=Y(G,"margin-left",!0),ma=Y(G,"margin-right",!0);H=G.offsetWidth+la+ma}}Q++}a.showMonthNames&&
a.placeMonthNamesOnTheBottom&&x(l,"div","month-name-bottom",e.monthNames[h]);d&&t(H)&&(0<E&&!a.showMonthDayGaps?l.style.marginLeft=-H+"px":0===E&&a.showMonthDayGaps&&(l.style.marginLeft=H+"px"));d=!0}a.keepScrollPositions&&(a.currentView.mapContents.scrollLeft=a.currentView.mapContentsScrollLeft)}function ka(a,c,b,d,f,h){b+=1;c=p(c,"div","day");var l=new Date(f,d,b),k=g[a.currentView.element.id].type[a.currentView.type][M(l)];k=K(k)?k:0;I(a.onDayToolTipRender)?c.title=q(a.onDayToolTipRender,l,k):
c.title=na(a.dayToolTipText,l);a.showDayNumbers&&0<k&&(c.innerHTML=k.toString());I(a.onDayClick)?c.onclick=function(){q(a.onDayClick,l,k)}:c.className+=n.space+"no-click";d=a.mapRangeColors.length;f=null;for(b=0;b<d;b++){var m=h[b];if(k>=m.minimum)f=m;else break}t(f)&&Z(a,f.id)&&(c.className+=n.space+f.cssClassName);return c}function ha(a){var c=p(a.currentView.element,"div","guide"),b=p(c,"div","map-types"),d=0;for(h in g[a.currentView.element.id].type.None)if(g[a.currentView.element.id].type.None.hasOwnProperty(h)){d++;
break}if(1<g[a.currentView.element.id].types)for(var f in g[a.currentView.element.id].type)if("None"!==f||0<d)0===d&&"None"===a.currentView.type&&(a.currentView.type=f),oa(a,b,f);if(a.showGuide){c=p(c,"div","map-toggles");b=x(c,"div","less-text",e.lessText);a.mapTogglesEnabled?b.onclick=function(){aa(a,!1)}:b.className+=n.space+"no-click";b=p(c,"div","days");d=a.mapRangeColors.sort(function(l,k){return k.range-l.range});var h=d.length;for(f=0;f<h;f++)pa(a,b,d[f]);c=x(c,"div","more-text",e.moreText);
a.mapTogglesEnabled?c.onclick=function(){aa(a,!0)}:c.className+=n.space+"no-click"}}function oa(a,c,b){c=x(c,"button","type",b);a.currentView.type===b&&(c.className+=n.space+"active");c.onclick=function(){a.currentView.type!==b&&(a.currentView.type=b,q(a.onTypeSwitch,b),r(a))}}function pa(a,c,b){var d=p(c,"div");d.title=b.tooltipText;Z(a,b.id)?d.className="day "+b.cssClassName:d.className="day";a.mapTogglesEnabled?d.onclick=function(){a.currentView.colorsVisible.hasOwnProperty(b.id)||(a.currentView.colorsVisible[b.id]=
!0);d.className=a.currentView.colorsVisible[b.id]?"day":"day "+b.cssClassName;a.currentView.colorsVisible[b.id]=!a.currentView.colorsVisible[b.id];r(a)}:d.className+=n.space+"no-click"}function Z(a,c){return!a.currentView.colorsVisible.hasOwnProperty(c)||a.currentView.colorsVisible[c]}function W(a,c){g[a]={options:c,type:{},types:1};g[a].type.None={}}function aa(a,c){for(var b=a.mapRangeColors.length,d=0;d<b;d++)a.currentView.colorsVisible[a.mapRangeColors[d].id]=c;r(a)}function D(a){a=a.toString().replace(/(\r\n|\n|\r)/gm,
n.empty).replace(/(\s\s)/gm,n.space);a=a.replace(/"/g,'""');return'"'+a+'"'}function X(a){return 0>a.getDay()-1?6:a.getDay()-1}function na(a,c){var b=a,d=X(c);b=b.replace("{dddd}",e.dayNames[d]);b=b.replace("{dd}",C(c.getDate()));b=b.replace("{d}",c.getDate());d=b.replace;var f=c.getDate(),h=e.thText;if(31===f||21===f||1===f)h=e.stText;else if(22===f||2===f)h=e.ndText;else if(23===f||3===f)h=e.rdText;b=d.call(b,"{o}",h);b=b.replace("{mmmm}",e.monthNames[c.getMonth()]);b=b.replace("{mm}",C(c.getMonth()+
1));b=b.replace("{m}",c.getMonth()+1);b=b.replace("{yyyy}",c.getFullYear());b=b.replace("{yyy}",c.getFullYear().toString().substring(1));b=b.replace("{yy}",c.getFullYear().toString().substring(2));return b=b.replace("{y}",parseInt(c.getFullYear().toString().substring(2)).toString())}function t(a){return null!==a&&void 0!==a&&a!==n.empty}function J(a){return t(a)&&"object"===typeof a}function N(a){return t(a)&&"boolean"===typeof a}function B(a){return t(a)&&"string"===typeof a}function I(a){return t(a)&&
"function"===typeof a}function K(a){return t(a)&&"number"===typeof a}function P(a){return J(a)&&a instanceof Array}function p(a,c,b){c=c.toLowerCase();var d="text"===c;R.hasOwnProperty(c)||(R[c]=d?A.createTextNode(n.empty):A.createElement(c));c=R[c].cloneNode(!1);t(b)&&(c.className=b);a.appendChild(c);return c}function x(a,c,b,d){a=p(a,c,b);a.innerHTML=d;return a}function Y(a,c,b){var d=null;b=t(b)?b:!1;O.getComputedStyle?d=A.defaultView.getComputedStyle(a,null).getPropertyValue(c):a.currentStyle&&
(d=a.currentStyle[c]);b&&(d=parseFloat(d,10));return d}function q(a){var c=null;I(a)&&(c=a.apply(null,[].slice.call(arguments,1)));return c}function v(a,c){return B(a)?a:c}function u(a,c){return N(a)?a:c}function y(a,c){return I(a)?a:c}function ca(a){var c=!0,b=null;try{B(a)&&(b=JSON.parse(a))}catch(d){try{b=eval("("+a+")"),I(b)&&(b=b())}catch(f){e.safeMode||(console.error("Errors in object: "+d.message+", "+f.message),c=!1),b=null}}return{parsed:c,result:b}}function V(){for(var a=[],c=0;32>c;c++){8!==
c&&12!==c&&16!==c&&20!==c||a.push("-");var b=Math.floor(16*Math.random()).toString(16);a.push(b)}return a.join(n.empty)}function C(a){a=a.toString();return 1===a.length?"0"+a:a}function M(a){return a.getFullYear()+"-"+C(a.getMonth()+1)+"-"+C(a.getDate())}function ba(){e.safeMode=u(e.safeMode,!0);var a=e,c=e.domElementTypes,b=["*"];B(c)?(c=c.split(n.space),0===c.length&&(c=b)):c=P(c)?c:b;a.domElementTypes=c;e.stText=v(e.stText,"st");e.ndText=v(e.ndText,"nd");e.rdText=v(e.rdText,"rd");e.thText=v(e.thText,
"th");e.backButtonText=v(e.backButtonText,"Back");e.nextButtonText=v(e.nextButtonText,"Next");e.refreshButtonText=v(e.refreshButtonText,"Refresh");e.exportButtonText=v(e.exportButtonText,"Export");e.lessText=v(e.lessText,"Less");e.moreText=v(e.moreText,"More");e.dateText=v(e.dateText,"Date");e.countText=v(e.countText,"Count");L(e.monthNames,12)&&(e.monthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));L(e.dayNames,7)&&(e.dayNames="Mon Tue Wed Thu Fri Sat Sun".split(" "))}function L(a,
c){c=K(c)?c:1;return!P(a)||a.length<c}var A=null,O=null,e={},n={empty:"",space:" ",newLine:"\n"},R={},H=null,g={};this.addDate=function(a,c,b,d){g.hasOwnProperty(a)&&(d=N(d)?d:!0,b=B(b)?b:"None",c=M(c),g[a].type.hasOwnProperty(b)||(g[a].type[b]={},g[a].types++),g[a].type[b].hasOwnProperty(c)||(g[a].type[b][c]=0),g[a].type[b][c]++,d&&r(g[a].options));return this};this.removeDate=function(a,c,b,d){g.hasOwnProperty(a)&&(b=B(b)?b:"None",c=M(c),g[a].type.hasOwnProperty(b)&&g[a].type[b].hasOwnProperty(c)&&
(d=N(d)?d:!0,0<g[a].type[b][c]&&g[a].type[b][c]--,d&&r(g[a].options)));return this};this.reset=function(a,c){if(g.hasOwnProperty(a)){c=N(c)?c:!0;var b=g[a].options;b.currentView.type="None";W(a,b);c&&r(g[a].options)}return this};this.refresh=function(a){g.hasOwnProperty(a)&&(a=g[a].options,r(a),q(a.onRefresh,a.currentView.element));return this};this.refreshAll=function(){for(var a in g)if(g.hasOwnProperty(a)){var c=g[a].options;r(c);q(c.onRefresh,c.currentView.element)}return this};this.setYear=function(a,
c){if(g.hasOwnProperty(a)){var b=g[a].options;b.currentView.year=c;r(b);q(b.onSetYear,b.currentView.year)}return this};this.setYearToHighest=function(a){if(g.hasOwnProperty(a)){a=g[a].options;var c=g[a.currentView.element.id].type[a.currentView.type],b=0,d;for(d in c)c.hasOwnProperty(d)&&(b=Math.max(b,parseInt(d.split("-")[0])));0<b&&(a.currentView.year=b,r(a),q(a.onSetYear,a.currentView.year))}return this};this.setYearToLowest=function(a){if(g.hasOwnProperty(a)){a=g[a].options;var c=g[a.currentView.element.id].type[a.currentView.type],
b=9999,d;for(d in c)c.hasOwnProperty(d)&&(b=Math.min(b,parseInt(d.split("-")[0])));9999>b&&(a.currentView.year=b,r(a),q(a.onSetYear,a.currentView.year))}return this};this.getYear=function(a){var c=null;g.hasOwnProperty(a)&&(c=g[a].options.currentView.year);return c};this.render=function(a,c){T(U(c,a));return this};this.renderAll=function(){S();return this};this.destroyAll=function(){for(var a in g)if(g.hasOwnProperty(a)){var c=g[a].options;c.currentView.element.innerHTML=n.empty;c.currentView.element.className=
n.empty;q(c.onDestroy,c.currentView.element)}g={};return this};this.destroy=function(a){if(g.hasOwnProperty(a)){var c=g[a].options;c.currentView.element.innerHTML=n.empty;c.currentView.element.className=n.empty;q(c.onDestroy,c.currentView.element);delete g[a]}return this};this.setConfiguration=function(a){e=J(a)?a:{};ba();return this};this.getVersion=function(){return"1.4.0"};(function(a,c){A=a;O=c;ba();A.addEventListener("DOMContentLoaded",function(){S()});t(O.$heat)||(O.$heat=this)})(document,window)})();