/*! Heat.js v2.0.0 | (c) Bunoon 2024 | MIT License */
(function(){function ma(){for(var a=h.domElementTypes,c=a.length,b=0;b<c;b++){var d=C.getElementsByTagName(a[b]);d=[].slice.call(d);for(var e=d.length,f=0;f<e;f++){var g=d[f],l=!0;if(t(g)&&g.hasAttribute("data-heat-options")){var n=g.getAttribute("data-heat-options");F(n)?(n=va(n),n.parsed&&I(n.result)?na(oa(n.result,g)):h.safeMode||(console.error("The attribute 'data-heat-options' is not a valid object."),l=!1)):h.safeMode||(console.error("The attribute 'data-heat-options' has not been set correctly."),
l=!1)}if(!l)break}}}function oa(a,c){var b=I(a)?a:{};b.views=I(b.views)?b.views:{};b.showGuide=w(b.showGuide,!0);b.showTitle=w(b.showTitle,!0);b.showYearSelector=w(b.showYearSelector,!0);b.showRefreshButton=w(b.showRefreshButton,!1);b.showExportButton=w(b.showExportButton,!1);b.mapTogglesEnabled=w(b.mapTogglesEnabled,!0);b.exportOnlyYearBeingViewed=w(b.exportOnlyYearBeingViewed,!0);b.year=aa(b.year,(new Date).getFullYear());b.keepScrollPositions=w(b.keepScrollPositions,!1);b.extraSelectionYears=aa(b.extraSelectionYears,
50);b.showYearSelectionDropDown=w(b.showYearSelectionDropDown,!0);b.view=v(b.view,"map");b.tooltipDelay=aa(b.tooltipDelay,750);b.exportType=v(b.exportType,"csv");b.noTypesLabel=v(b.noTypesLabel,null);b.noTypesLabelLink=v(b.noTypesLabelLink,null);b.views.map=I(b.views.map)?b.views.map:{};b.views.map.showMonthDayGaps=w(b.views.map.showMonthDayGaps,!0);b.views.map.showDayNames=w(b.views.map.showDayNames,!0);b.views.map.placeMonthNamesOnTheBottom=w(b.views.map.placeMonthNamesOnTheBottom,!1);b.views.map.showDayNumbers=
w(b.views.map.showDayNumbers,!1);b.views.map.showMonthNames=w(b.views.map.showMonthNames,!0);J(b.views.map.monthsToShow)&&(b.views.map.monthsToShow=ba);J(b.views.map.daysToShow)&&(b.views.map.daysToShow=ca);b.views.chart=I(b.views.chart)?b.views.chart:{};b.views.chart.enabled=w(b.views.chart.enabled,!0);b.views.chart.showChartYLabels=w(b.views.chart.showChartYLabels,!0);b.views.chart.showMonthNames=w(b.views.chart.showMonthNames,!0);J(b.views.chart.monthsToShow)&&(b.views.chart.monthsToShow=ba);J(b.views.chart.daysToShow)&&
(b.views.chart.daysToShow=ca);b.views.statistics=I(b.views.statistics)?b.views.statistics:{};b.views.statistics.enabled=w(b.views.statistics.enabled,!0);b.views.statistics.showChartYLabels=w(b.views.statistics.showChartYLabels,!0);b.views.statistics.showColorRangeLabels=w(b.views.statistics.showColorRangeLabels,!0);J(b.views.statistics.monthsToShow)&&(b.views.statistics.monthsToShow=ba);J(b.views.statistics.daysToShow)&&(b.views.statistics.daysToShow=ca);var d=b.colorRanges;var e=[{minimum:10,cssClassName:"day-color-1",
tooltipText:"Day Color 1",visible:!0},{minimum:15,cssClassName:"day-color-2",tooltipText:"Day Color 2",visible:!0},{minimum:20,cssClassName:"day-color-3",tooltipText:"Day Color 3",visible:!0},{minimum:25,cssClassName:"day-color-4",tooltipText:"Day Color 4",visible:!0}];d=da(d)?d:e;b.colorRanges=d;d=b.colorRanges.length;for(e=0;e<d;e++)F(b.colorRanges[e].id)||(b.colorRanges[e].id=pa());b.titleText=v(b.titleText,"Heat.js");b.dayToolTipText=v(b.dayToolTipText,"{d}{o} {mmmm} {yyyy}");b.onDayClick=A(b.onDayClick,
null);b.onBackYear=A(b.onBackYear,null);b.onNextYear=A(b.onNextYear,null);b.onRefresh=A(b.onRefresh,null);b.onBeforeRender=A(b.onBeforeRender,null);b.onRenderComplete=A(b.onRenderComplete,null);b.onDestroy=A(b.onDestroy,null);b.onExport=A(b.onExport,null);b.onSetYear=A(b.onSetYear,null);b.onTypeSwitch=A(b.onTypeSwitch,null);b.onDayToolTipRender=A(b.onDayToolTipRender,null);b.onAdd=A(b.onAdd,null);b.onRemove=A(b.onRemove,null);b.onReset=A(b.onReset,null);b.onViewSwitch=A(b.onViewSwitch,null);b.onColorRangeTypeToggle=
A(b.onColorRangeTypeToggle,null);d=F(b.view)?b.view.toLowerCase():r.empty;b.currentView={};b.currentView.element=c;b.currentView.tooltip=null;b.currentView.tooltipTimer=null;b.currentView.mapContents=null;b.currentView.mapContentsScrollLeft=0;b.currentView.year=b.year;b.currentView.type="None";b.views.chart.enabled&&(b.currentView.chartContents=null,b.currentView.chartContentsScrollLeft=0);b.views.statistics.enabled&&(b.currentView.statisticsContents=null,b.currentView.statisticsContentsScrollLeft=
0);b.currentView.view="map"===d?1:"chart"===d?2:"statistics"===d?3:1;return b}function na(a){p(a.onBeforeRender,a.currentView.element);F(a.currentView.element.id)||(a.currentView.element.id=pa());a.currentView.element.removeAttribute("data-heat-options");qa(a.currentView.element.id,a);u(a);p(a.onRenderComplete,a.currentView.element)}function u(a){t(a.currentView.mapContents)&&(a.currentView.mapContentsScrollLeft=a.currentView.mapContents.scrollLeft);a.views.chart.enabled&&t(a.currentView.chartContents)&&
(a.currentView.chartContentsScrollLeft=a.currentView.chartContents.scrollLeft);a.views.statistics.enabled&&t(a.currentView.statisticsContents)&&(a.currentView.statisticsContentsScrollLeft=a.currentView.statisticsContents.scrollLeft);a.currentView.element.className="heat-js";a.currentView.element.innerHTML=r.empty;wa(a);xa(a);a.currentView.mapContents=m(a.currentView.element,"div","map-contents");var c=m(a.currentView.mapContents,"div","map"),b=a.currentView.year,d=!1;a.views.chart.enabled&&(a.currentView.chartContents=
m(a.currentView.element,"div","chart-contents"));a.views.statistics.enabled&&(a.currentView.statisticsContents=m(a.currentView.element,"div","statistics-contents"));ya(a);if(a.views.map.showDayNames){var e=m(c,"div","days");if(!a.views.map.showMonthNames||a.views.map.placeMonthNamesOnTheBottom)e.className="days-months-bottom";for(var f=0;7>f;f++)-1<a.views.map.daysToShow.indexOf(f+1)&&q(e,"div","day-name",h.dayNames[f])}c=m(c,"div","months");e=U(a);for(f=0;12>f;f++)if(-1<a.views.map.monthsToShow.indexOf(f+
1)){var g=m(c,"div","month");a.views.map.showMonthNames&&!a.views.map.placeMonthNamesOnTheBottom&&q(g,"div","month-name",h.monthNames[f]);var l=m(g,"div","day-columns");var n=R(b,f),x=m(l,"div","day-column"),y=!1,z=ea(new Date(b,f,1)),B=1;n+=z;for(var D=0;D<n;D++){D>=z?y=!0:-1<a.views.map.daysToShow.indexOf(B)&&m(x,"div","day-disabled");if(y){var E=null;-1<a.views.map.daysToShow.indexOf(B)&&(E=za(a,x,D-z,f,b,e));if(0===(D+1)%7&&(x=m(l,"div","day-column"),B=0,!t(S)&&t(E))){var W=V(E,"margin-left",
!0),Aa=V(E,"margin-right",!0);S=E.offsetWidth+W+Aa}}B++}a.views.map.showMonthNames&&a.views.map.placeMonthNamesOnTheBottom&&q(g,"div","month-name-bottom",h.monthNames[f]);d&&t(S)&&(0<z&&!a.views.map.showMonthDayGaps?g.style.marginLeft=-S+"px":0===z&&a.views.map.showMonthDayGaps&&(g.style.marginLeft=S+"px"));d=!0}a.keepScrollPositions&&(a.currentView.mapContents.scrollLeft=a.currentView.mapContentsScrollLeft);if(a.views.chart.enabled){f=m(a.currentView.chartContents,"div","chart");g=m(f,"div","y-labels");
b=m(f,"div","day-lines");d=U(a);c=0;e=P(a);for(l=0;12>l;l++)for(n=R(a.currentView.year,l),x=0;x<n;x++)y=N(new Date(a.currentView.year,l,x+1)),e.hasOwnProperty(y)&&(c=G.max(c,parseInt(e[y])));l=c;e=a.currentView.year;c=0;0<l&&a.views.chart.showChartYLabels?(c=q(g,"div","label-0",l.toString()),q(g,"div","label-25",(3*G.floor(l/4)).toString()),q(g,"div","label-50",G.floor(l/2).toString()),q(g,"div","label-75",G.floor(l/4).toString()),q(g,"div","label-100","0"),g.style.width=c.offsetWidth+"px",c=g.offsetWidth+
V(g,"margin-right",!0)):g.parentNode.removeChild(g);if(0===l)a.currentView.chartContents.style.minHeight=a.currentView.mapContents.offsetHeight+"px",f.parentNode.removeChild(f),q(a.currentView.chartContents,"div","no-data-message",h.noChartDataMessage);else{g=a.currentView.mapContents.offsetHeight/l;for(n=l=f=0;12>n;n++)if(-1<a.views.chart.monthsToShow.indexOf(n+1))for(x=R(e,n),y=1,f++,z=0;z<x;z++)-1<a.views.chart.daysToShow.indexOf(y)&&Ba(b,a,z+1,n,e,d,g),0===(z+1)%7&&(y=0),y++,l++;if(a.views.chart.showMonthNames){d=
m(a.currentView.chartContents,"div","chart-months");e=b.offsetWidth/f;for(g=f=0;12>g;g++)-1<a.views.chart.monthsToShow.indexOf(g+1)&&(q(d,"div","month-name",h.monthNames[g]).style.left=c+e*f+"px",f++);d.style.width=b.offsetWidth+"px";b=m(d,"div","month-name-space");b.style.height=d.offsetHeight+"px";b.style.width=c+"px"}a.keepScrollPositions&&(a.currentView.chartContents.scrollLeft=a.currentView.chartContentsScrollLeft)}a.currentView.chartContents.style.display="none"}if(a.views.statistics.enabled){f=
m(a.currentView.statisticsContents,"div","statistics");b=m(a.currentView.statisticsContents,"div","statistics-ranges");g=m(f,"div","y-labels");d=m(f,"div","range-lines");c=U(a);e={};l=0;n=P(a);for(x=e["0"]=0;12>x;x++)for(y=R(a.currentView.year,x),z=0;z<y;z++)B=N(new Date(a.currentView.year,x,z+1)),n.hasOwnProperty(B)&&(D=B.split(r.dash),E=new Date(D[2],D[1],D[0]),D=ea(E),E=E.getMonth(),-1<a.views.statistics.monthsToShow.indexOf(E+1)&&-1<a.views.statistics.daysToShow.indexOf(D)&&(B=fa(c,n[B]),t(B)?
(e.hasOwnProperty(B.minimum.toString())||(e[B.minimum.toString()]=0),e[B.minimum]++,l=G.max(l,e[B.minimum])):e["0"]++));0<l&&a.views.statistics.showChartYLabels?(n=q(g,"div","label-0",l.toString()),q(g,"div","label-25",(3*G.floor(l/4)).toString()),q(g,"div","label-50",G.floor(l/2).toString()),q(g,"div","label-75",G.floor(l/4).toString()),q(g,"div","label-100","0"),g.style.width=n.offsetWidth+"px",b.style.paddingLeft=g.offsetWidth+V(g,"margin-right",!0)+"px"):g.parentNode.removeChild(g);if(0===l)a.currentView.statisticsContents.style.minHeight=
a.currentView.mapContents.offsetHeight+"px",f.parentNode.removeChild(f),b.parentNode.removeChild(b),q(a.currentView.statisticsContents,"div","no-statistics-message",h.noStatisticsDataMessage);else{f=a.currentView.mapContents.offsetHeight/l;a.views.statistics.showColorRangeLabels||b.parentNode.removeChild(b);for(var X in e)if(e.hasOwnProperty(X)){y=X;g=e[X];l=a;z=c;n=f;x=m(d,"div","range-line no-hover");B=z.length;D=null;for(E=0;E<B;E++)if(W=z[E],y.toString()===W.minimum.toString()){D=W;break}y=D;
x.style.height=g*n+"px";x.style.setProperty("border-bottom-width","0","important");Q(x,l,g.toString());t(y)&&Y(l,y.id)&&H(x,y.cssClassName);a.views.statistics.showColorRangeLabels&&q(b,"div","range-name",X+"+")}a.keepScrollPositions&&(a.currentView.statisticsContents.scrollLeft=a.currentView.statisticsContentsScrollLeft)}a.currentView.statisticsContents.style.display="none"}a.currentView.mapContents.style.display="none";1===a.currentView.view?a.currentView.mapContents.style.display="block":a.views.chart.enabled&&
2===a.currentView.view?a.currentView.chartContents.style.display="block":a.views.statistics.enabled&&3===a.currentView.view?a.currentView.statisticsContents.style.display="block":a.currentView.chartContents.style.display="block"}function qa(a,c){k[a]={options:c,type:{},types:1};k[a].type.None={}}function P(a){return k[a.currentView.element.id].type[a.currentView.type]}function wa(a){t(a.currentView.tooltip)||(a.currentView.tooltip=m(C.body,"div","heat-js-tooltip"),a.currentView.tooltip.style.display=
"none",C.body.addEventListener("mousemove",function(){ha(a)}),C.addEventListener("scroll",function(){ha(a)}))}function Q(a,c,b){null!==a&&(a.onmousemove=function(d){Ca(d,c,b)})}function Ca(a,c,b){Da(a);ha(c);c.currentView.tooltipTimer=setTimeout(function(){c.currentView.tooltip.innerHTML=b;c.currentView.tooltip.style.display="block";var d=c.currentView.tooltip,e=a.pageX,f=a.pageY;var g=C.documentElement;var l=(K.pageXOffset||g.scrollLeft)-(g.clientLeft||0);g=(K.pageYOffset||g.scrollTop)-(g.clientTop||
0);d.style.display="block";e+d.offsetWidth>K.innerWidth?e-=d.offsetWidth:e++;f+d.offsetHeight>K.innerHeight?f-=d.offsetHeight:f++;e<l&&(e=a.pageX+1);f<g&&(f=a.pageY+1);d.style.left=e+"px";d.style.top=f+"px"},c.tooltipDelay)}function ha(a){t(a.currentView.tooltip)&&(t(a.currentView.tooltipTimer)&&(clearTimeout(a.currentView.tooltipTimer),a.currentView.tooltipTimer=null),"block"===a.currentView.tooltip.style.display&&(a.currentView.tooltip.style.display="none"))}function xa(a){if(a.showTitle||a.showYearSelector||
a.showRefreshButton||a.showExportButton){var c=m(a.currentView.element,"div","title-bar"),b=m(c,"div","title");a.views.chart.enabled||a.views.statistics.enabled?m(b,"div","down-arrow"):H(b,"no-click");a.showTitle&&(b.innerHTML+=a.titleText);if(a.views.chart.enabled||a.views.statistics.enabled){b=m(b,"div","titles-list");b=m(b,"div","titles");var d=q(b,"div","title",h.mapText);ia(a,d,1,"map");a.views.chart.enabled&&(d=q(b,"div","title",h.chartText),ia(a,d,2,"chart"));a.views.statistics.enabled&&(b=
q(b,"div","title",h.statisticsText),ia(a,b,3,"statistics"))}a.showExportButton&&(q(c,"button","export",h.exportButtonText).onclick=function(){ra(a);p(a.onExport,a.currentView.element)});a.showRefreshButton&&(q(c,"button","refresh",h.refreshButtonText).onclick=function(){u(a);p(a.onRefresh,a.currentView.element)});if(a.showYearSelector){q(c,"button","back",h.backButtonText).onclick=function(){a.currentView.year--;u(a);p(a.onBackYear,a.currentView.year)};a.currentView.yearText=q(c,"div","year-text",
a.currentView.year);if(a.showYearSelectionDropDown){m(a.currentView.yearText,"div","down-arrow");b=m(a.currentView.yearText,"div","years-list");d=m(b,"div","years");var e=(new Date).getFullYear(),f=null;b.style.display="block";b.style.visibility="hidden";for(var g=e-a.extraSelectionYears;g<e+a.extraSelectionYears;g++){var l=Ea(a,d,g);t(f)||(f=l)}t(f)&&(d.scrollTop=f.offsetTop-d.offsetHeight/2);b.style.display="none";b.style.visibility="visible"}else H(a.currentView.yearText,"no-click");q(c,"button",
"next",h.nextButtonText).onclick=function(){a.currentView.year++;u(a);p(a.onNextYear,a.currentView.year)}}}}function ia(a,c,b,d){a.currentView.view===b?H(c,"title-active"):c.onclick=function(){a.currentView.view=b;p(a.onViewSwitch,d);u(a)}}function Ea(a,c,b){var d=null;c=q(c,"div","year",b);a.currentView.year!==b?c.onclick=function(){a.currentView.year=b;u(a);p(a.onNextYear,a.currentView.year)}:(H(c,"year-active"),d=c);return d}function za(a,c,b,d,e,f){b+=1;c=m(c,"div","day");var g=new Date(e,d,b),
l=k[a.currentView.element.id].type[a.currentView.type][N(g)];l=T(l)?l:0;O(a.onDayToolTipRender)?Q(c,a,p(a.onDayToolTipRender,g,l)):Q(c,a,sa(a.dayToolTipText,g));a.views.map.showDayNumbers&&0<l&&(c.innerHTML=l.toString());O(a.onDayClick)?c.onclick=function(){p(a.onDayClick,g,l)}:H(c,"no-hover");d=fa(f,l);t(d)&&Y(a,d.id)&&H(c,d.cssClassName);return c}function Ba(a,c,b,d,e,f,g){var l=new Date(e,d,b);a=m(a,"div","day-line");var n=P(c)[N(l)];n=T(n)?n:0;O(c.onDayToolTipRender)?Q(a,c,p(c.onDayToolTipRender,
l,n)):Q(a,c,sa(c.dayToolTipText,l));a.style.height=n*g+"px";a.style.setProperty("border-bottom-width","0","important");O(c.onDayClick)?a.onclick=function(){p(c.onDayClick,l,n)}:H(a,"no-hover");f=fa(f,n);t(f)&&Y(c,f.id)&&H(a,f.cssClassName)}function ya(a){var c=m(a.currentView.element,"div","guide"),b=m(c,"div","map-types"),d=0;for(f in k[a.currentView.element.id].type.None)if(k[a.currentView.element.id].type.None.hasOwnProperty(f)){d++;break}if(1<k[a.currentView.element.id].types)for(var e in k[a.currentView.element.id].type){if("None"!==
e||0<d)0===d&&"None"===a.currentView.type&&(a.currentView.type=e),Fa(a,b,e)}else F(a.noTypesLabel)&&(F(a.noTypesLabelLink)?q(b,"a","label",a.noTypesLabel).href=a.noTypesLabelLink:q(b,"span","label",a.noTypesLabel));if(a.showGuide){c=m(c,"div","map-toggles");b=q(c,"div","less-text",h.lessText);a.mapTogglesEnabled?b.onclick=function(){ta(a,!1)}:H(b,"no-click");b=m(c,"div","days");d=U(a);var f=d.length;for(e=0;e<f;e++)Ga(a,b,d[e]);c=q(c,"div","more-text",h.moreText);a.mapTogglesEnabled?c.onclick=function(){ta(a,
!0)}:H(c,"no-click")}}function Fa(a,c,b){c=q(c,"button","type",b);a.currentView.type===b&&H(c,"active");c.onclick=function(){a.currentView.type!==b&&(a.currentView.type=b,p(a.onTypeSwitch,b),u(a))}}function Ga(a,c,b){c=m(c,"div");Q(c,a,b.tooltipText);Y(a,b.id)?c.className="day "+b.cssClassName:c.className="day";a.mapTogglesEnabled?c.onclick=function(){for(var d=b.id,e=a.colorRanges.length,f=0;f<e;f++){var g=a.colorRanges[f];if(g.id===d){g.visible=!(L(g.visible)&&g.visible);p(a.onColorRangeTypeToggle,
g.id,g.visible);u(a);break}}}:H(c,"no-hover")}function Y(a,c){for(var b=!1,d=a.colorRanges.length,e=0;e<d;e++){var f=a.colorRanges[e];if(f.id===c&&(!L(f.visible)||f.visible)){b=!0;break}}return b}function ta(a,c){for(var b=a.colorRanges.length,d=0;d<b;d++)a.colorRanges[d].visible=c,p(a.onColorRangeTypeToggle,a.colorRanges[d].id,c);u(a)}function fa(a,c){for(var b=a.length,d=null,e=0;e<b;e++){var f=a[e];if(c>=f.minimum)d=f;else break}return d}function U(a){return a.colorRanges.sort(function(c,b){return c.minimum-
b.minimum})}function ra(a){var c=null;var b=null;"csv"===a.exportType.toLowerCase()?b="text/csv":"json"===a.exportType.toLowerCase()?b="application/json":"xml"===a.exportType.toLowerCase()&&(b="application/xml");if("csv"===a.exportType.toLowerCase()){var d=ja(a);c=[];for(var e in d)d.hasOwnProperty(e)&&c.push([Z(e),Z(d[e])].join());0<c.length&&c.unshift([Z(h.dateText),Z(h.countText)].join());c=c.join(r.newLine)}else if("json"===a.exportType.toLowerCase())c=ka.stringify(ja(a));else if("xml"===a.exportType.toLowerCase()){e=
ja(a);c=[];c.push('<?xml version="1.0" ?>');c.push("<Dates>");for(d in e)e.hasOwnProperty(d)&&(c.push("<Date>"),c.push("<FullDate>"+d+"</FullDate>"),c.push("<Count>"+e[d]+"</Count>"),c.push("</Date>"));c.push("</Dates>");c=c.join(r.newLine)}if(c!==r.empty){e=m(C.body,"a");e.style.display="none";e.setAttribute("target","_blank");e.setAttribute("href","data:"+b+";charset=utf-8,"+encodeURIComponent(c));b=e.setAttribute;c=new Date;d=M(c.getDate())+r.dash+M(c.getMonth()+1)+r.dash+c.getFullYear();c=M(c.getHours())+
r.dash+M(c.getMinutes());var f=r.empty;"None"!==a.currentView.type&&(f=a.currentView.type.toLowerCase().replace(r.space,r.underscore)+r.underscore);a=f+d+r.underscore+c+"."+a.exportType.toLowerCase();b.call(e,"download",a);e.click();C.body.removeChild(e)}}function ja(a){var c={},b=P(a);if(a.exportOnlyYearBeingViewed)for(var d=0;12>d;d++)for(var e=R(a.currentView.year,d),f=0;f<e;f++){var g=N(new Date(a.currentView.year,d,f+1));b.hasOwnProperty(g)&&(c[g]=b[g])}else{a=[];for(d in b)b.hasOwnProperty(d)&&
a.push(d);a.sort();d=a.length;for(e=0;e<d;e++)f=a[e],b.hasOwnProperty(f)&&(c[f]=b[f])}return c}function Z(a){a=a.toString().replace(/(\r\n|\n|\r)/gm,r.empty).replace(/(\s\s)/gm,r.space);a=a.replace(/"/g,'""');return'"'+a+'"'}function R(a,c){return(new Date(a,c+1,0)).getDate()}function ea(a){return 0>a.getDay()-1?6:a.getDay()-1}function sa(a,c){var b=a,d=ea(c);b=b.replace("{dddd}",h.dayNames[d]);b=b.replace("{dd}",M(c.getDate()));b=b.replace("{d}",c.getDate());d=b.replace;var e=c.getDate(),f=h.thText;
if(31===e||21===e||1===e)f=h.stText;else if(22===e||2===e)f=h.ndText;else if(23===e||3===e)f=h.rdText;b=d.call(b,"{o}",f);b=b.replace("{mmmm}",h.monthNames[c.getMonth()]);b=b.replace("{mm}",M(c.getMonth()+1));b=b.replace("{m}",c.getMonth()+1);b=b.replace("{yyyy}",c.getFullYear());b=b.replace("{yyy}",c.getFullYear().toString().substring(1));b=b.replace("{yy}",c.getFullYear().toString().substring(2));return b=b.replace("{y}",parseInt(c.getFullYear().toString().substring(2)).toString())}function t(a){return null!==
a&&void 0!==a&&a!==r.empty}function I(a){return t(a)&&"object"===typeof a}function L(a){return t(a)&&"boolean"===typeof a}function F(a){return t(a)&&"string"===typeof a}function O(a){return t(a)&&"function"===typeof a}function T(a){return t(a)&&"number"===typeof a}function da(a){return I(a)&&a instanceof Array}function m(a,c,b){c=c.toLowerCase();var d="text"===c;la.hasOwnProperty(c)||(la[c]=d?C.createTextNode(r.empty):C.createElement(c));c=la[c].cloneNode(!1);t(b)&&(c.className=b);a.appendChild(c);
return c}function q(a,c,b,d){a=m(a,c,b);a.innerHTML=d;return a}function V(a,c,b){var d=null;b=t(b)?b:!1;K.getComputedStyle?d=C.defaultView.getComputedStyle(a,null).getPropertyValue(c):a.currentStyle&&(d=a.currentStyle[c]);b&&(d=parseFloat(d,10));return d}function H(a,c){a.className+=r.space+c}function Da(a){a.preventDefault();a.cancelBubble=!0}function p(a){var c=null;O(a)&&(c=a.apply(null,[].slice.call(arguments,1)));return c}function v(a,c){return F(a)?a:c}function w(a,c){return L(a)?a:c}function A(a,
c){return O(a)?a:c}function aa(a,c){return T(a)?a:c}function va(a){var c=!0,b=null;try{F(a)&&(b=ka.parse(a))}catch(d){try{b=eval("("+a+")"),O(b)&&(b=b())}catch(e){h.safeMode||(console.error("Errors in object: "+d.message+", "+e.message),c=!1),b=null}}return{parsed:c,result:b}}function pa(){for(var a=[],c=0;32>c;c++){8!==c&&12!==c&&16!==c&&20!==c||a.push(r.dash);var b=G.floor(16*G.random()).toString(16);a.push(b)}return a.join(r.empty)}function M(a){a=a.toString();return 1===a.length?"0"+a:a}function N(a){return a.getFullYear()+
r.dash+M(a.getMonth()+1)+r.dash+M(a.getDate())}function ua(){h.safeMode=w(h.safeMode,!0);var a=h,c=h.domElementTypes,b=["*"];F(c)?(c=c.split(r.space),0===c.length&&(c=b)):c=da(c)?c:b;a.domElementTypes=c;h.stText=v(h.stText,"st");h.ndText=v(h.ndText,"nd");h.rdText=v(h.rdText,"rd");h.thText=v(h.thText,"th");h.backButtonText=v(h.backButtonText,"Back");h.nextButtonText=v(h.nextButtonText,"Next");h.refreshButtonText=v(h.refreshButtonText,"Refresh");h.exportButtonText=v(h.exportButtonText,"Export");h.lessText=
v(h.lessText,"Less");h.moreText=v(h.moreText,"More");h.dateText=v(h.dateText,"Date");h.countText=v(h.countText,"Count");h.mapText=v(h.mapText,"Map");h.chartText=v(h.chartText,"Chart");h.noChartDataMessage=v(h.noChartDataMessage,"There is currently no data to view.");h.statisticsText=v(h.statisticsText,"Statistics");h.noStatisticsDataMessage=v(h.noStatisticsDataMessage,"There are currently no statistics to view.");J(h.monthNames,12)&&(h.monthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));
J(h.dayNames,7)&&(h.dayNames="Mon Tue Wed Thu Fri Sat Sun".split(" "))}function J(a,c){c=T(c)?c:1;return!da(a)||a.length<c}var C=null,K=null,G=null,ka=null,h={},r={empty:"",space:" ",newLine:"\n",dash:"-",underscore:"_"},ba=[1,2,3,4,5,6,7,8,9,10,11,12],ca=[1,2,3,4,5,6,7],la={},S=null,k={};this.addDates=function(a,c,b,d){if(k.hasOwnProperty(a)){d=L(d)?d:!0;b=F(b)?b:"None";for(var e=c.length,f=k[a].options,g=0;g<e;g++)this.addDate(a,c[g],b,!1);p(f.onAdd,f.currentView.element);d&&u(k[a].options)}return this};
this.addDate=function(a,c,b,d){k.hasOwnProperty(a)&&(d=L(d)?d:!0,b=F(b)?b:"None",c=N(c),k[a].type.hasOwnProperty(b)||(k[a].type[b]={},k[a].types++),k[a].type[b].hasOwnProperty(c)||(k[a].type[b][c]=0),k[a].type[b][c]++,b=k[a].options,p(b.onAdd,b.currentView.element),d&&u(k[a].options));return this};this.removeDates=function(a,c,b,d){if(k.hasOwnProperty(a)){b=F(b)?b:"None";d=L(d)?d:!0;for(var e=c.length,f=k[a].options,g=0;g<e;g++)this.removeDate(a,c[g],b,!1);p(f.onRemove,f.currentView.element);d&&u(k[a].options)}return this};
this.removeDate=function(a,c,b,d){k.hasOwnProperty(a)&&(b=F(b)?b:"None",c=N(c),k[a].type.hasOwnProperty(b)&&k[a].type[b].hasOwnProperty(c)&&(d=L(d)?d:!0,0<k[a].type[b][c]&&k[a].type[b][c]--,b=k[a].options,p(b.onRemove,b.currentView.element),d&&u(k[a].options)));return this};this.resetAll=function(a){for(var c in k)k.hasOwnProperty(c)&&this.reset(c,a);return this};this.reset=function(a,c){if(k.hasOwnProperty(a)){c=L(c)?c:!0;var b=k[a].options;b.currentView.type="None";qa(a,b);p(b.onReset,b.currentView.element);
c&&u(k[a].options)}return this};this["export"]=function(a){k.hasOwnProperty(a)&&ra(k[a].options);return this};this.refresh=function(a){k.hasOwnProperty(a)&&(a=k[a].options,u(a),p(a.onRefresh,a.currentView.element));return this};this.refreshAll=function(){for(var a in k)if(k.hasOwnProperty(a)){var c=k[a].options;u(c);p(c.onRefresh,c.currentView.element)}return this};this.setYear=function(a,c){if(k.hasOwnProperty(a)){var b=k[a].options;b.currentView.year=c;u(b);p(b.onSetYear,b.currentView.year)}return this};
this.setYearToHighest=function(a){if(k.hasOwnProperty(a)){a=k[a].options;var c=P(a),b=0,d;for(d in c)c.hasOwnProperty(d)&&(b=G.max(b,parseInt(d.split(r.dash)[0])));0<b&&(a.currentView.year=b,u(a),p(a.onSetYear,a.currentView.year))}return this};this.setYearToLowest=function(a){if(k.hasOwnProperty(a)){a=k[a].options;var c=P(a),b=9999,d;for(d in c)c.hasOwnProperty(d)&&(b=G.min(b,parseInt(d.split(r.dash)[0])));9999>b&&(a.currentView.year=b,u(a),p(a.onSetYear,a.currentView.year))}return this};this.moveToPreviousYear=
function(a){k.hasOwnProperty(a)&&(a=k[a].options,a.currentView.year--,u(a),p(a.onBackYear,a.currentView.year));return this};this.moveToNextYear=function(a){k.hasOwnProperty(a)&&(a=k[a].options,a.currentView.year++,u(a),p(a.onNextYear,a.currentView.year));return this};this.moveToCurrentYear=function(a){k.hasOwnProperty(a)&&(a=k[a].options,a.currentView.year=(new Date).getFullYear(),u(a),p(a.onSetYear,a.currentView.year));return this};this.getYear=function(a){var c=null;k.hasOwnProperty(a)&&(c=k[a].options.currentView.year);
return c};this.render=function(a,c){na(oa(c,a));return this};this.renderAll=function(){ma();return this};this.switchView=function(a,c){if(k.hasOwnProperty(a)){var b=k[a].options,d=null;"map"===c.toLowerCase()?d=1:"chart"===c.toLowerCase()?d=2:"statistics"===c.toLowerCase()&&(d=3);T(d)&&(b.currentView.view=d,p(b.onViewSwitch,c),u(b))}return this};this.switchType=function(a,c){if(k.hasOwnProperty(a)&&k[a].type.hasOwnProperty(c)){var b=k[a].options;b.currentView.type!==c&&(b.currentView.type=c,p(b.onTypeSwitch,
c),u(b))}return this};this.destroyAll=function(){for(var a in k)if(k.hasOwnProperty(a)){var c=k[a].options;c.currentView.element.innerHTML=r.empty;c.currentView.element.className=r.empty;C.body.removeChild(c.currentView.tooltip);p(c.onDestroy,c.currentView.element)}k={};return this};this.destroy=function(a){if(k.hasOwnProperty(a)){var c=k[a].options;c.currentView.element.innerHTML=r.empty;c.currentView.element.className=r.empty;C.body.removeChild(c.currentView.tooltip);p(c.onDestroy,c.currentView.element);
delete k[a]}return this};this.setConfiguration=function(a){h=I(a)?a:{};ua();return this};this.getIds=function(){var a=[],c;for(c in k)k.hasOwnProperty(c)&&a.push(c);return a};this.getVersion=function(){return"2.0.0"};(function(a,c,b,d){C=a;K=c;G=b;ka=d;ua();C.addEventListener("DOMContentLoaded",function(){ma()});t(K.$heat)||(K.$heat=this)})(document,window,Math,JSON)})();