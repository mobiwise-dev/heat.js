/*! Heat.js v1.4.0 | (c) Bunoon 2024 | MIT License */
(function(){function S(){for(var a=f.domElementTypes,b=a.length,c=0;c<b;c++){var e=B.getElementsByTagName(a[c]);e=[].slice.call(e);for(var g=e.length,h=0;h<g;h++){var l=e[h],m=!0;if(t(l)&&l.hasAttribute("data-heat-options")){var p=l.getAttribute("data-heat-options");if(C(p))if(p=aa(p),p.parsed&&K(p.result)){var d=p;p=l;d=d.result;d=K(d)?d:{};d.showDayNames=u(d.showDayNames,!0);d.showGuide=u(d.showGuide,!0);d.showTitle=u(d.showTitle,!0);d.showYearSelector=u(d.showYearSelector,!0);d.showMonthDayGaps=
u(d.showMonthDayGaps,!0);d.showRefreshButton=u(d.showRefreshButton,!1);d.showMonthNames=u(d.showMonthNames,!0);d.showExportButton=u(d.showExportButton,!1);d.mapTogglesEnabled=u(d.mapTogglesEnabled,!0);d.placeMonthNamesOnTheBottom=u(d.placeMonthNamesOnTheBottom,!1);d.exportOnlyYearBeingViewed=u(d.exportOnlyYearBeingViewed,!0);var z=d;var r=d.year;var F=(new Date).getFullYear();r=P(r)?r:F;z.year=r;d.showDayNumbers=u(d.showDayNumbers,!1);d.keepScrollPositions=u(d.keepScrollPositions,!1);L(d.monthsToShow)&&
(d.monthsToShow=[1,2,3,4,5,6,7,8,9,10,11,12]);L(d.daysToShow)&&(d.daysToShow=[1,2,3,4,5,6,7]);z=d.mapRangeColors;r=[{minimum:10,cssClassName:"day-color-1",tooltipText:"Day Color 1"},{minimum:15,cssClassName:"day-color-2",tooltipText:"Day Color 2"},{minimum:20,cssClassName:"day-color-3",tooltipText:"Day Color 3"},{minimum:25,cssClassName:"day-color-4",tooltipText:"Day Color 4"}];z=Q(z)?z:r;d.mapRangeColors=z;z=d.mapRangeColors.length;for(r=0;r<z;r++)C(d.mapRangeColors[r].id)||(d.mapRangeColors[r].id=
T());d.titleText=v(d.titleText,"Heat.js");d.dayToolTipText=v(d.dayToolTipText,"{d}{o} {mmmm} {yyyy}");d.onDayClick=A(d.onDayClick,null);d.onBackYear=A(d.onBackYear,null);d.onNextYear=A(d.onNextYear,null);d.onRefresh=A(d.onRefresh,null);d.onBeforeRender=A(d.onBeforeRender,null);d.onRenderComplete=A(d.onRenderComplete,null);d.onDestroy=A(d.onDestroy,null);d.onExport=A(d.onExport,null);d.onSetYear=A(d.onSetYear,null);d.onTypeSwitch=A(d.onTypeSwitch,null);d.onDayToolTipRender=A(d.onDayToolTipRender,null);
d.currentView={};d.currentView.element=p;d.currentView.mapContents=null;d.currentView.mapContentsScrollLeft=0;d.currentView.colorsVisible={};d.currentView.year=d.year;d.currentView.type="None";p=d;w(p.onBeforeRender,l);C(l.id)||(l.id=T());l.removeAttribute("data-heat-options");U(l.id,p);x(p);w(p.onRenderComplete,l)}else f.safeMode||(console.error("The attribute 'data-heat-options' is not a valid object."),m=!1);else f.safeMode||(console.error("The attribute 'data-heat-options' has not been set correctly."),
m=!1)}if(!m)break}}}function x(a){t(a.currentView.mapContents)&&(a.currentView.mapContentsScrollLeft=a.currentView.mapContents.scrollLeft);a.currentView.element.className="heat-js";a.currentView.element.innerHTML=n.empty;ba(a);ca(a)}function ba(a){if(a.showTitle||a.showYearSelector||a.showRefreshButton||a.showExportButton){var b=q(a.currentView.element,"div","title-bar");a.showTitle&&y(b,"div","title",a.titleText);a.showExportButton&&(y(b,"button","export",f.exportButtonText).onclick=function(){var c=
k[a.currentView.element.id].type[a.currentView.type];var e=[];var g=[];e.push([E(f.dateText),E(f.countText)].join());for(var h in c)c.hasOwnProperty(h)&&g.push(h);g.sort();if(a.exportOnlyYearBeingViewed)for(g=0;12>g;g++){h=(new Date(a.currentView.year,g+1,0)).getDate();for(var l=0;l<h;l++){var m=M(new Date(a.currentView.year,g,l+1));c.hasOwnProperty(m)&&e.push([E(m),E(c[m])].join())}}else for(h=g.length,l=0;l<h;l++)m=g[l],c.hasOwnProperty(m)&&e.push([E(m),E(c[m])].join());e=e.join(n.newLine);e!==
n.empty&&(c=q(B.body,"a"),c.style.display="none",c.setAttribute("target","_blank"),c.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(e)),e=c.setAttribute,h=new Date,g=D(h.getDate())+"-"+D(h.getMonth()+1)+"-"+h.getFullYear(),h=D(h.getHours())+"-"+D(h.getMinutes()),l=n.empty,"None"!==a.currentView.type&&(l=a.currentView.type.toLowerCase().replace(n.space,"_")+"_"),e.call(c,"download",l+g+"_"+h+".csv"),c.click(),B.body.removeChild(c));w(a.onExport,a.currentView.element)});a.showRefreshButton&&
(y(b,"button","refresh",f.refreshButtonText).onclick=function(){x(a);w(a.onRefresh,a.currentView.element)});a.showYearSelector&&(y(b,"button","back",f.backButtonText).onclick=function(){a.currentView.year--;x(a);w(a.onBackYear,a.currentView.year)},a.currentView.yearText=y(b,"div","year-text",a.currentView.year),y(b,"button","next",f.nextButtonText).onclick=function(){a.currentView.year++;x(a);w(a.onNextYear,a.currentView.year)})}}function ca(a){a.currentView.mapContents=q(a.currentView.element,"div",
"map-contents");var b=q(a.currentView.mapContents,"div","map"),c=a.currentView.year,e=!1;da(a);if(a.showDayNames){var g=q(b,"div","days");if(!a.showMonthNames||a.placeMonthNamesOnTheBottom)g.style.paddingTop="0px",g.style.marginTop=a.placeMonthNamesOnTheBottom?"-2px":"-5px";for(var h=0;7>h;h++)-1<a.daysToShow.indexOf(h+1)&&y(g,"div","day-name",f.dayNames[h])}b=q(b,"div","months");g=a.mapRangeColors.sort(function(ea,fa){return fa.range-ea.range});for(h=0;12>h;h++)if(-1<a.monthsToShow.indexOf(h+1)){var l=
q(b,"div","month");a.showMonthNames&&!a.placeMonthNamesOnTheBottom&&y(l,"div","month-name",f.monthNames[h]);var m=q(l,"div","day-columns"),p=(new Date(c,h+1,0)).getDate(),d=q(m,"div","day-column"),z=!1,r=V(new Date(c,h,1)),F=1;p+=r;for(var G=0;G<p;G++){G>=r?z=!0:q(d,"div","day-disabled");if(z){var H=null;-1<a.daysToShow.indexOf(F)&&(H=ha(a,d,G-r,h,c,g));if(0===(G+1)%7&&(d=q(m,"div","day-column"),F=0,!t(I)&&t(H))){var ia=W(H,"margin-left",!0),ja=W(H,"margin-right",!0);I=H.offsetWidth+ia+ja}}F++}a.showMonthNames&&
a.placeMonthNamesOnTheBottom&&y(l,"div","month-name-bottom",f.monthNames[h]);e&&t(I)&&(0<r&&!a.showMonthDayGaps?l.style.marginLeft=-I+"px":0===r&&a.showMonthDayGaps&&(l.style.marginLeft=I+"px"));e=!0}a.keepScrollPositions&&(a.currentView.mapContents.scrollLeft=a.currentView.mapContentsScrollLeft)}function ha(a,b,c,e,g,h){c+=1;b=q(b,"div","day");var l=new Date(g,e,c),m=k[a.currentView.element.id].type[a.currentView.type][M(l)];m=P(m)?m:0;J(a.onDayToolTipRender)?b.title=w(a.onDayToolTipRender,l,m):
b.title=ka(a.dayToolTipText,l);a.showDayNumbers&&0<m&&(b.innerHTML=m.toString());J(a.onDayClick)?b.onclick=function(){w(a.onDayClick,l,m)}:b.className+=n.space+"no-click";e=a.mapRangeColors.length;g=null;for(c=0;c<e;c++){var p=h[c];if(m>=p.minimum)g=p;else break}t(g)&&X(a,g.id)&&(b.className+=n.space+g.cssClassName);return b}function da(a){var b=q(a.currentView.element,"div","guide"),c=q(b,"div","map-types"),e=0;for(h in k[a.currentView.element.id].type.None)if(k[a.currentView.element.id].type.None.hasOwnProperty(h)){e++;
break}if(1<k[a.currentView.element.id].types)for(var g in k[a.currentView.element.id].type)if("None"!==g||0<e)0===e&&"None"===a.currentView.type&&(a.currentView.type=g),la(a,c,g);if(a.showGuide){b=q(b,"div","map-toggles");c=y(b,"div","less-text",f.lessText);a.mapTogglesEnabled?c.onclick=function(){Y(a,!1)}:c.className+=n.space+"no-click";c=q(b,"div","days");e=a.mapRangeColors.sort(function(l,m){return m.range-l.range});var h=e.length;for(g=0;g<h;g++)ma(a,c,e[g]);b=y(b,"div","more-text",f.moreText);
a.mapTogglesEnabled?b.onclick=function(){Y(a,!0)}:b.className+=n.space+"no-click"}}function la(a,b,c){b=y(b,"button","type",c);a.currentView.type===c&&(b.className+=n.space+"active");b.onclick=function(){a.currentView.type!==c&&(a.currentView.type=c,w(a.onTypeSwitch,c),x(a))}}function ma(a,b,c){var e=q(b,"div");e.title=c.tooltipText;X(a,c.id)?e.className="day "+c.cssClassName:e.className="day";a.mapTogglesEnabled?e.onclick=function(){a.currentView.colorsVisible.hasOwnProperty(c.id)||(a.currentView.colorsVisible[c.id]=
!0);e.className=a.currentView.colorsVisible[c.id]?"day":"day "+c.cssClassName;a.currentView.colorsVisible[c.id]=!a.currentView.colorsVisible[c.id];x(a)}:e.className+=n.space+"no-click"}function X(a,b){return!a.currentView.colorsVisible.hasOwnProperty(b)||a.currentView.colorsVisible[b]}function U(a,b){k[a]={options:b,type:{},types:1};k[a].type.None={}}function Y(a,b){for(var c=a.mapRangeColors.length,e=0;e<c;e++)a.currentView.colorsVisible[a.mapRangeColors[e].id]=b;x(a)}function E(a){a=a.toString().replace(/(\r\n|\n|\r)/gm,
n.empty).replace(/(\s\s)/gm,n.space);a=a.replace(/"/g,'""');return'"'+a+'"'}function V(a){return 0>a.getDay()-1?6:a.getDay()-1}function ka(a,b){var c=a,e=V(b);c=c.replace("{dddd}",f.dayNames[e]);c=c.replace("{dd}",D(b.getDate()));c=c.replace("{d}",b.getDate());e=c.replace;var g=b.getDate(),h=f.thText;if(31===g||21===g||1===g)h=f.stText;else if(22===g||2===g)h=f.ndText;else if(23===g||3===g)h=f.rdText;c=e.call(c,"{o}",h);c=c.replace("{mmmm}",f.monthNames[b.getMonth()]);c=c.replace("{mm}",D(b.getMonth()+
1));c=c.replace("{m}",b.getMonth()+1);c=c.replace("{yyyy}",b.getFullYear());c=c.replace("{yyy}",b.getFullYear().toString().substring(1));c=c.replace("{yy}",b.getFullYear().toString().substring(2));return c=c.replace("{y}",parseInt(b.getFullYear().toString().substring(2)).toString())}function t(a){return null!==a&&void 0!==a&&a!==n.empty}function K(a){return t(a)&&"object"===typeof a}function N(a){return t(a)&&"boolean"===typeof a}function C(a){return t(a)&&"string"===typeof a}function J(a){return t(a)&&
"function"===typeof a}function P(a){return t(a)&&"number"===typeof a}function Q(a){return K(a)&&a instanceof Array}function q(a,b,c){b=b.toLowerCase();var e="text"===b;R.hasOwnProperty(b)||(R[b]=e?B.createTextNode(n.empty):B.createElement(b));b=R[b].cloneNode(!1);t(c)&&(b.className=c);a.appendChild(b);return b}function y(a,b,c,e){a=q(a,b,c);a.innerHTML=e;return a}function W(a,b,c){var e=null;c=t(c)?c:!1;O.getComputedStyle?e=B.defaultView.getComputedStyle(a,null).getPropertyValue(b):a.currentStyle&&
(e=a.currentStyle[b]);c&&(e=parseFloat(e,10));return e}function w(a){var b=null;J(a)&&(b=a.apply(null,[].slice.call(arguments,1)));return b}function v(a,b){return C(a)?a:b}function u(a,b){return N(a)?a:b}function A(a,b){return J(a)?a:b}function aa(a){var b=!0,c=null;try{C(a)&&(c=JSON.parse(a))}catch(e){try{c=eval("("+a+")"),J(c)&&(c=c())}catch(g){f.safeMode||(console.error("Errors in object: "+e.message+", "+g.message),b=!1),c=null}}return{parsed:b,result:c}}function T(){for(var a=[],b=0;32>b;b++){8!==
b&&12!==b&&16!==b&&20!==b||a.push("-");var c=Math.floor(16*Math.random()).toString(16);a.push(c)}return a.join(n.empty)}function D(a){a=a.toString();return 1===a.length?"0"+a:a}function M(a){return a.getFullYear()+"-"+D(a.getMonth()+1)+"-"+D(a.getDate())}function Z(){f.safeMode=u(f.safeMode,!0);var a=f,b=f.domElementTypes,c=["*"];C(b)?(b=b.split(n.space),0===b.length&&(b=c)):b=Q(b)?b:c;a.domElementTypes=b;f.stText=v(f.stText,"st");f.ndText=v(f.ndText,"nd");f.rdText=v(f.rdText,"rd");f.thText=v(f.thText,
"th");f.backButtonText=v(f.backButtonText,"Back");f.nextButtonText=v(f.nextButtonText,"Next");f.refreshButtonText=v(f.refreshButtonText,"Refresh");f.exportButtonText=v(f.exportButtonText,"Export");f.lessText=v(f.lessText,"Less");f.moreText=v(f.moreText,"More");f.dateText=v(f.dateText,"Date");f.countText=v(f.countText,"Count");L(f.monthNames,12)&&(f.monthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));L(f.dayNames,7)&&(f.dayNames="Mon Tue Wed Thu Fri Sat Sun".split(" "))}function L(a,
b){b=P(b)?b:1;return!Q(a)||a.length<b}var B=null,O=null,f={},n={empty:"",space:" ",newLine:"\n"},R={},I=null,k={};this.addDate=function(a,b,c,e){k.hasOwnProperty(a)&&(e=N(e)?e:!0,c=C(c)?c:"None",b=M(b),k[a].type.hasOwnProperty(c)||(k[a].type[c]={},k[a].types++),k[a].type[c].hasOwnProperty(b)||(k[a].type[c][b]=0),k[a].type[c][b]++,e&&x(k[a].options));return this};this.removeDate=function(a,b,c,e){k.hasOwnProperty(a)&&(c=C(c)?c:"None",b=M(b),k[a].type.hasOwnProperty(c)&&k[a].type[c].hasOwnProperty(b)&&
(e=N(e)?e:!0,0<k[a].type[c][b]&&k[a].type[c][b]--,e&&x(k[a].options)));return this};this.reset=function(a,b){if(k.hasOwnProperty(a)){b=N(b)?b:!0;var c=k[a].options;c.currentView.type="None";U(a,c);b&&x(k[a].options)}return this};this.refresh=function(a){k.hasOwnProperty(a)&&(a=k[a].options,x(a),w(a.onRefresh,a.currentView.element));return this};this.refreshAll=function(){for(var a in k)if(k.hasOwnProperty(a)){var b=k[a].options;x(b);w(b.onRefresh,b.currentView.element)}return this};this.setYear=function(a,
b){if(k.hasOwnProperty(a)){var c=k[a].options;c.currentView.year=b;x(c);w(c.onSetYear,c.currentView.year)}return this};this.getYear=function(a){var b=null;k.hasOwnProperty(a)&&(b=k[a].options.currentView.year);return b};this.renderAll=function(){S();return this};this.destroyAll=function(){for(var a in k)if(k.hasOwnProperty(a)){var b=k[a].options;b.currentView.element.innerHTML=n.empty;b.currentView.element.className=n.empty;w(b.onDestroy,b.currentView.element)}k={};return this};this.destroy=function(a){if(k.hasOwnProperty(a)){var b=
k[a].options;b.currentView.element.innerHTML=n.empty;b.currentView.element.className=n.empty;w(b.onDestroy,b.currentView.element);delete k[a]}return this};this.setConfiguration=function(a){f=K(a)?a:{};Z();return this};this.getVersion=function(){return"1.4.0"};(function(a,b){B=a;O=b;Z();B.addEventListener("DOMContentLoaded",function(){S()});t(O.$heat)||(O.$heat=this)})(document,window)})();